(this.webpackJsonpdhiwise=this.webpackJsonpdhiwise||[]).push([[193],{2243:function(st,K,t){"use strict";t.d(K,"a",function(){return c});var U=t(0),e=t.n(U),i=t(276),fe=t.n(i);const c=({data:w,popOverValue:o,className:ie,place:ce,dropdownWrapClass:de,style:pe,onHover:Y=!1})=>{const[b,Ae]=e.a.useState(!1),Te=e.a.useCallback(()=>{Ae(!b)});return e.a.createElement(e.a.Fragment,null,Y?e.a.createElement("div",{className:"cursor-pointer",onMouseLeave:Te,onMouseEnter:Te},e.a.createElement(fe.a,{body:[e.a.createElement(e.a.Fragment,null,o)],style:pe,isOpen:b,onOuterAction:Te,refreshIntervalMs:10,enterExitTransitionDurationMs:10,tipSize:10,place:ce||null,className:`popupCustom ${de}`},e.a.createElement("span",{className:ie},w))):e.a.createElement(fe.a,{body:[e.a.createElement(e.a.Fragment,null,o)],style:pe,isOpen:b,onOuterAction:Te,refreshIntervalMs:10,enterExitTransitionDurationMs:10,tipSize:10,place:ce||null,className:`popupCustom ${de}`},e.a.createElement("span",{className:ie,onClick:Te},w)))}},2313:function(st,K,t){"use strict";t.d(K,"e",function(){return fe}),t.d(K,"f",function(){return c}),t.d(K,"d",function(){return w}),t.d(K,"b",function(){return o}),t.d(K,"a",function(){return ie}),t.d(K,"c",function(){return ce}),t.d(K,"g",function(){return de}),t.d(K,"h",function(){return pe});var U=t(9),e=t(4);const i=(Y,b)=>Object(U.a)(`${e.a.gitInteration.sync}/${Y}/${b}`,{},"GET"),fe=Y=>Object(U.a)(`${e.a.gitInteration.list}`,Y),c=Y=>Object(U.a)(`${e.a.gitInteration.selectRepo}`,Y),w=Y=>Object(U.a)(`${e.a.gitInteration.gitDetail}/${Y}`,{},"GET"),o=(Y,b={})=>Object(U.a)(`${e.a.gitInteration.commitGitHubCode}`,Y,"POST",{},{},b),ie=Y=>Object(U.a)(`${e.a.gitInteration.addGitAccessToken}`,Y),ce=(Y,b={})=>Object(U.a)(`${e.a.gitInteration.commitGitLabCode}`,Y,"POST",{},{},b),de=Y=>Object(U.a)(`${e.a.gitInteration.syncSelfManageGit}`,Y),pe=Y=>Object(U.a)(`${e.a.gitInteration.userWhiteList}/${Y}`,{},"PUT")},2318:function(st,K,t){"use strict";t.d(K,"a",function(){return U});const U={GIT_HUB:1,GIT_LAB:2,GIT_SELF_MANAGE:3}},2351:function(st,K,t){"use strict";K.a=t.p+"static/media/gitlab.5bd0cfd0.png"},2356:function(st,K,t){"use strict";t.d(K,"a",function(){return w});var U=t(0),e=t.n(U),i=t(3),fe=t(8);const c=({title:o=""})=>e.a.createElement("div",{className:"flex items-center text-left"},e.a.createElement("div",{className:"w-3.5 h-3.5"},e.a.createElement(i.c.Check,{color:"var(--dhi-success-500)"})),e.a.createElement("div",{className:"text-b1 leading-5 text-high ml-2.5"},o)),w=({isGitHub:o=!1})=>e.a.createElement("div",null,e.a.createElement(fe.H,{variant:"dhi_sub3",className:"sm:text-dhiInfo-400"},"Important Notes"),e.a.createElement("div",{className:"grid grid-cols-1 gap-2.5 mt-2.5"},e.a.createElement(c,{title:"Do not start the repository with a README file or other options. Keep it empty."}),e.a.createElement(c,{title:"The changes will be pushed to the root of the selected repository, using Pull Requests."}),e.a.createElement(c,{title:"The selected repository must be empty, please make sure that there won\u2019t be another branch created."}),!o&&e.a.createElement(c,{title:"For GitLab, all the functionality will be performed using a personal token."}),!o&&e.a.createElement(c,{title:"api scopes must be selected while generating the Personal Access Tokens."}),e.a.createElement(c,{title:"After expiry of the project, git information will be removed from DhiWise."})))},2368:function(st,K,t){(function(U,e){st.exports=e()})(this,function(){"use strict";var U={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(e,i,fe){var c=i.prototype,w=c.format;fe.en.formats=U,c.format=function(o){o===void 0&&(o="YYYY-MM-DDTHH:mm:ssZ");var ie=this.$locale().formats,ce=function(de,pe){return de.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(Y,b,Ae){var Te=Ae&&Ae.toUpperCase();return b||pe[Ae]||U[Ae]||pe[Te].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(C,he,z){return he||z.slice(1)})})}(o,ie===void 0?{}:ie);return w.call(this,ce)}}})},2373:function(st,K,t){},2382:function(st,K,t){"use strict";K.a=t.p+"static/media/github.1d646b28.png"},2432:function(st,K,t){"use strict";t.d(K,"a",function(){return z});var U=t(0),e=t.n(U),i=t(139),fe=t(3),c=t(8);const w=({isSelected:Ee,isSelect:E,isChange:j,variant:H="normal",linkUrl:Be="",onLinkClick:D,name:L="",loading:R=!1,onSelectRepo:v,isArchived:re,isEmpty:X})=>e.a.createElement(e.a.Fragment,null,e.a.createElement(c.L,{variant:H,popupList:!0,className:"flex justify-between items-center"},e.a.createElement("div",{className:"flex-grow"},e.a.createElement(c.Q,{title:L}),!!Be&&e.a.createElement(c.K,{onClick:()=>D(Be)},Be)),e.a.createElement("div",{className:"flex-grow-0"},Ee&&e.a.createElement(c.i,{variant:"outline",shape:"square",size:"medium"},"Selected"),E&&X&&e.a.createElement(c.i,{variant:"primary",shape:"square",size:"medium",loading:R,onClick:v},"Select"),re&&e.a.createElement(c.i,{variant:"outline",shape:"square",size:"medium",disabled:!0},"Archived"),j&&e.a.createElement(c.i,{variant:"primary",shape:"square",size:"medium"},"Change repository"),!X&&e.a.createElement(c.i,{variant:"outline",shape:"square",size:"medium",className:"ml-2",disabled:!0},"Not empty"))));var o=t(2313),ie=t(47),ce=t(29),de=t(558),Y=({rows:Ee})=>e.a.createElement(e.a.Fragment,null,Array(Ee||5).fill("").map(()=>e.a.createElement(de.a,{speed:2,className:"mt-5",width:"100%",height:"50px",backgroundColor:"var(--dhi-surface2)",foregroundColor:"var(--dhi-surfacew2)"},e.a.createElement("rect",{x:"10",y:"5",rx:"3",ry:"3",width:"50%",height:"8"}),e.a.createElement("rect",{x:"10",y:"20",rx:"3",ry:"3",width:"70%",height:"10"}),e.a.createElement("rect",{x:"90%",y:"8",rx:"3",ry:"3",width:"5%",height:"16"})))),b=t(173),Ae=t(2318),Te=t(11),C=t(4),he=t(31);const z=({isOpen:Ee,onClose:E,onDrawerClose:j,changeRespositroy:H,gitRepoDetails:Be,gitType:D,addRepoUrl:L,isSecondaryBuild:R=!1,secondaryAppData:v={}})=>{var re,X,te;const{currentApplicationId:ne,currentProjectId:le,currentProjectDetail:s}=Object(he.d)(),[ot,ue,u]=Object(ie.a)(!1),[h,g,J]=Object(ie.a)(!1),[r,A]=e.a.useState([]),{addErrorToast:B,addSuccessToast:F}=Object(ce.i)(),[ae,V]=e.a.useState(Be),Z=(re=s.applicationList)==null?void 0:re.find(d=>d._id===ne),[Le,Je]=e.a.useState(""),gt=Object(ce.j)(b.a.GIT_INTEGRATION),[mt,ht]=e.a.useState(1),[Me,Se]=e.a.useState(!1),Ye=Te.a.get(C.z),ye=()=>{ue(),Object(o.e)({projectId:le,page:mt,limit:30}).then(d=>{var Ve;const x=mt===1?[]:[...r];x.push(...d==null?void 0:d.data),A(x),((Ve=d==null?void 0:d.data)==null?void 0:Ve.length)<30?Se(!0):Se(!1)}).catch(B).finally(()=>u())};e.a.useEffect(()=>{ye()},[mt]);const Ct=d=>{window.open(d,"_blank")},Pt=d=>{var Ve;Je(d==null?void 0:d.id),g(),Object(o.f)({projectId:le,gitRepoDetails:d,applicationId:R?(Ve=v==null?void 0:v._id)!=null?Ve:Ye==null?void 0:Ye._id:ne}).then(x=>{var He;F(x==null?void 0:x.message),V((He=x==null?void 0:x.data)==null?void 0:He.gitRepoDetails),j()}).catch(x=>{B(x)}).finally(J)},De=()=>{A([]),mt===1?ye():ht(1)};return e.a.createElement(i.a,{open:Ee,handleSubmit:E,onClose:j,handleCancel:E,ease:!0,level:null,handler:!1,placement:"right",wrapperClassName:"branch_select_drawer"},e.a.createElement(c.x,{onClick:E}),e.a.createElement(c.z,{title:H?`Change ${(X=Z==null?void 0:Z.displayName)!=null?X:Z==null?void 0:Z.name} repository`:`${(te=Z==null?void 0:Z.displayName)!=null?te:Z==null?void 0:Z.name}`,className:"xxl:block xl:block"},e.a.createElement(c.w,{className:"mt-2"},"The changes will be pushed to the selected repository, using Merge/Pull Requests.")),e.a.createElement("div",{className:"flex-grow flex flex-col h-0"},e.a.createElement("div",{className:"headTopSearch"},e.a.createElement("div",{className:"p-5 pb-0 flex justify-between items-center"},e.a.createElement(c.w,{variant:"dhi_b1",className:"flex items-center"},"Total"," ",D===Ae.a.GIT_HUB?"GitHub":"GitLab"," ","repository :"," ",(r==null?void 0:r.length)||0),e.a.createElement("div",{className:"flex items-center"},e.a.createElement(c.i.Icon,{tooltip:"Refresh",variant:"outline",size:"small",onClick:De},e.a.createElement(fe.c.Refresh,null)),e.a.createElement(c.i.Icon,{tooltip:"Add repository",className:"ml-2",size:"small",onClick:()=>window.open(D===Ae.a.GIT_HUB?"https://github.com/new":D===Ae.a.GIT_LAB?"https://gitlab.com/projects/new#blank_project":L,"_blank")},e.a.createElement(fe.c.Plus,{color:"#fff"}))))),e.a.createElement("div",{className:"pt-3 p-5 overflow-auto flex-grow h-full"},!ot&&(r==null?void 0:r.length)===0?e.a.createElement(c.Y,null):e.a.createElement(e.a.Fragment,null,r.map(d=>{var Ve;return e.a.createElement(w,{key:d==null?void 0:d.id,isSelect:(gt==null?void 0:gt.UPDATE)&&(ae==null?void 0:ae.id)!==(d==null?void 0:d.id)&&!d.archived,linkUrl:D===Ae.a.GIT_HUB?d==null?void 0:d.html_url:d==null?void 0:d.http_url_to_repo,name:D===Ae.a.GIT_HUB?(Ve=d==null?void 0:d.full_name)!=null?Ve:d==null?void 0:d.name:d==null?void 0:d.path_with_namespace,loading:h&&d.id===Le,onLinkClick:Ct,onSelectRepo:()=>Pt(d),isSelected:(ae==null?void 0:ae.id)===(d==null?void 0:d.id),isArchived:d.archived,isEmpty:D===Ae.a.GIT_HUB?d.size===0:d.empty_repo})}),!ot&&!Me&&e.a.createElement("span",{onClick:()=>ht(mt+1)},"Load more"),ot&&e.a.createElement(Y,null)))))}},2453:function(st,K,t){"use strict";t.d(K,"a",function(){return Be});var U=t(0),e=t.n(U),i=t(159),fe=t(72),c=t(3),w=t(8),o=t(2313),ie=t(29),ce=t(2318),de=t(47),pe=t(2356),Y=t(69),b=Object.defineProperty,Ae=Object.defineProperties,Te=Object.getOwnPropertyDescriptors,C=Object.getOwnPropertySymbols,he=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable,Ee=(D,L,R)=>L in D?b(D,L,{enumerable:!0,configurable:!0,writable:!0,value:R}):D[L]=R,E=(D,L)=>{for(var R in L||(L={}))he.call(L,R)&&Ee(D,R,L[R]);if(C)for(var R of C(L))z.call(L,R)&&Ee(D,R,L[R]);return D},j=(D,L)=>Ae(D,Te(L));const H={gitPrivateToken:{required:"Personal access token is required.",pattern:"Personal access token can be alphanumeric and only allows - and _ special character"},domainUrl:{required:"Domain url is required."},userName:{required:"User name is required."},privateToken:{required:"Personal access token is required.",pattern:"Personal access token can be alphanumeric and only allows - and _ special character"}},Be=({isOpen:D,closeModal:L,projectId:R,onSubmit:v})=>{const{addErrorToast:re,addSuccessToast:X}=Object(ie.i)(),[te,ne,le]=Object(de.a)(!1),[s,ot]=e.a.useState("1"),[ue,u]=e.a.useState(!1),h=F=>{ot(F)},{handleSubmit:g,errors:J,control:r}=Object(i.e)({mode:"onChange"}),A=F=>{te||(ne(),s==="1"&&Object(o.a)(E({projectId:R,type:ce.a.GIT_LAB},F)).then(ae=>{var V;(V=ae==null?void 0:ae.data)!=null&&V.isEmailUnVerified?u(!0):(X(ae==null?void 0:ae.message),v(),L())}).catch(ae=>{re(ae)}).finally(le),s==="2"&&Object(o.g)(E({projectId:R,type:ce.a.GIT_SELF_MANAGE},F)).then(ae=>{var V;(V=ae==null?void 0:ae.data)!=null&&V.isEmailUnVerified?u(!0):(X(ae==null?void 0:ae.message),v(),L())}).catch(ae=>{re(ae)}).finally(le))},B=()=>{Object(Y.z)().then(F=>{X(F==null?void 0:F.message),u(!1)}).catch(F=>{re(F)})};return e.a.createElement(w.db,{isOpen:D,closeModal:()=>{L()},title:"GitLab",submit:"Submit",cancel:"Cancel",handleCancel:()=>{L()},handleSubmit:g(A),bodyClass:"xxl:max-h-110 overflow-auto xl:max-h-96",submitLoading:te},e.a.createElement("div",null,e.a.createElement("div",{className:"mb-5"},e.a.createElement(pe.a,null)),e.a.createElement("hr",{className:"border-r border-outline border-dashed mb-5"}),e.a.createElement(w.fb,{selectedValue:s,className:"flex gap-5",onChange:h},e.a.createElement(w.eb,{value:"1"},e.a.createElement("div",{className:"gap-1 flex items-center"},"GitLab SaaS",e.a.createElement("div",{"data-tip":!0,"data-for":"gitlab-saas"},e.a.createElement("div",{className:"w-4 h-4"},e.a.createElement(c.c.Info,null)),e.a.createElement(fe.a,{id:"gitlab-saas",t:!0,ype:"dark"},e.a.createElement("div",{className:"w-48"},"Select this option if you are using the GitLab service hosted on GitLab's cloud servers."))))),e.a.createElement(w.eb,{value:"2"},e.a.createElement("div",{className:"gap-1 flex items-center"},"Self-Managed",e.a.createElement("div",{"data-tip":!0,"data-for":"self-manage"},e.a.createElement("div",{className:"w-4 h-4"},e.a.createElement(c.c.Info,null)),e.a.createElement(fe.a,{id:"self-manage",t:!0,ype:"dark"},e.a.createElement("div",{className:"w-48"},"Select this option if you have installed GitLab on your own infrastructure.")))))),e.a.createElement("div",{className:"grid gap-5 mt-5"},s==="1"&&e.a.createElement("form",{onSubmit:g(A)},e.a.createElement(i.a,{name:"gitPrivateToken",control:r,rules:{required:!0,pattern:/^[a-zA-Z0-9_-]+$/},defaultValue:"",render:F=>e.a.createElement(w.I.Text,j(E({},F),{placeholder:"Enter personal access token",label:"Personal access token",error:J.gitPrivateToken?H.gitPrivateToken[J.gitPrivateToken.type]:""}))})),s==="2"&&e.a.createElement("form",{onSubmit:g(A)},e.a.createElement(i.a,{name:"domainUrl",control:r,rules:{required:!0},defaultValue:"",render:F=>e.a.createElement(w.I.Text,j(E({},F),{placeholder:"Enter domain url",label:"Domain url",error:J.domainUrl?H.domainUrl[J.domainUrl.type]:""}))}),e.a.createElement(i.a,{name:"userName",control:r,rules:{required:!0},defaultValue:"",render:F=>e.a.createElement(w.I.Text,j(E({},F),{placeholder:"Enter username",label:"Username",error:J.userName?H.userName[J.userName.type]:""}))}),e.a.createElement(i.a,{name:"privateToken",control:r,rules:{required:!0,pattern:/^[a-zA-Z0-9_-]+$/},defaultValue:"",render:F=>e.a.createElement(w.I.Text,j(E({},F),{placeholder:"Enter personal access token",label:"Personal access token",error:J.privateToken?H.privateToken[J.privateToken.type]:""}))})))),e.a.createElement(w.o,{size:"xxl:w-4/12 w-5/12",title:"Verify your email",isOpen:ue,color:"default",closeModal:()=>{u(!1)},handleSubmit:B,shortDesc:e.a.createElement(e.a.Fragment,null,"Check promotion or spam folder in case you didn't get email in your inbox. Write to us at"," ",e.a.createElement(w.K,{link:"mailto:help@dhiwise.com",target:"_blank"},"help@dhiwise.com")," ","if you didn't receive an email or facing any issue."),description:"Woohoo! Great to see you here and you're just a step away to get all of it. Please verify your email address to perform this action.",okText:"Resend email verification link"}))}},2478:function(st,K,t){"use strict";t.d(K,"a",function(){return U});const U={productionWrap:"sm:w-10/12 xxl:w-10/12 flex-grow chartBox m-auto relative py-5",productionInner:"w-full py-5",productionBox:"w-full m-auto",productionHead:"px-2 py-3 flex justify-center items-center flex-shrink-0 hidden",productionLog:"w-full",productionLogHead:"border-1 border-b-0 rounded-t-3 py-2 border-outline flex flex-shrink-0 justify-between py-2 px-3 xxl:px-5 bg-surface2 items-center cursor-pointer",productionLogInner:"border-1 border-outline deploylog p-3 bg-surface2",logText:"block text-xs font-normal mb-1",logErrorText:"text-dhiDanger-400",logSuggest:"text-dhiWarning-50 ml-1"}},2526:function(st,K,t){"use strict";t.d(K,"a",function(){return ot});var U=t(0),e=t.n(U),i=t(419),fe=t.n(i),c=t(5),w=t.n(c),o=t(3),ie=t(109),ce=t(34),de=t(85),pe=t(47),Y=t(124),b=t(198),Ae=t(29),Te=t(8),C=t(230),he=t(81),z=t(2),Ee=t(592),E=t(110),j=t(6),H=t(31),Be=t(51),D=t(2250),L=Object.defineProperty,R=Object.defineProperties,v=Object.getOwnPropertyDescriptors,re=Object.getOwnPropertySymbols,X=Object.prototype.hasOwnProperty,te=Object.prototype.propertyIsEnumerable,ne=(u,h,g)=>h in u?L(u,h,{enumerable:!0,configurable:!0,writable:!0,value:g}):u[h]=g,le=(u,h)=>{for(var g in h||(h={}))X.call(h,g)&&ne(u,g,h[g]);if(re)for(var g of re(h))te.call(h,g)&&ne(u,g,h[g]);return u},s=(u,h)=>R(u,v(h));const ot=u=>{var h,g,J,r;const[A,B,F]=Object(pe.a)(!1),[ae,V]=e.a.useState(!1),{mixPanelTrack:Z}=Object(C.a)(),{webengageTrackEvent:Le}=Object(ie.a)(),[Je,gt]=e.a.useState(""),[mt,ht]=Object(H.b)(),{currentApplicationId:Me,currentProjectDetail:Se,currentApplicationCode:Ye,buildProjectData:ye}=mt,{userData:{status:Ct,isFakeEmail:Pt}}=Object(Ae.e)(),[De,d,Ve]=Object(pe.a)(!1),x=(h=Se==null?void 0:Se.applicationList)==null?void 0:h.find(Re=>(Re==null?void 0:Re._id)===Me),{addErrorToast:He}=Object(Ae.i)(),_t=Se==null?void 0:Se.applicationList,yt=x==null?void 0:x.awsToken,$t=(g=_t==null?void 0:_t.find(Re=>(Re==null?void 0:Re._id)===Me))==null?void 0:g.secondaryAppId,Bt=[z.c.androidFigma,z.c.flutter,z.c.IOS].includes(Ye),na=!Object(c.isEmpty)(Ye)&&Object(de.b)(Ye),bt=new URLSearchParams(window.location.search),Ze=bt.get("isSecondaryBuild"),be=bt.get("screenExportBuild"),vt={applicationType:(J=x==null?void 0:x.projectDefinition)==null?void 0:J.code},it=Re=>{var $e,pt,Nt,Ft,ft,Yt;const zt=new Blob([Re==null?void 0:Re.data],{type:"application/zip"}),Ut=window.URL.createObjectURL(zt),Ot=document.createElement("a");Ot.href=Ut,Ot.download=x!=null&&x.name?(pt=($e=ye==null?void 0:ye.generatedProjectData)==null?void 0:$e.versionNumber)!=null&&pt.toString()?`${x==null?void 0:x.name}${`-v${(Ft=(Nt=ye==null?void 0:ye.generatedProjectData)==null?void 0:Nt.semanticVersionNumber)!=null?Ft:"1.0"}.${(ft=ye==null?void 0:ye.generatedProjectData)==null?void 0:ft.versionNumber}`}.zip`:`${x==null?void 0:x.name}.zip`:"application.zip",document.body.appendChild(Ot),Ot.click(),(Yt=Ot.parentNode)==null||Yt.removeChild(Ot),F()},Vt=(Re={})=>{var $e,pt,Nt,Ft,ft,Yt,zt,Ut,Ot,Qe;B();const Xt=new i.S3(s(le({},Object(c.pick)(Object(c.isEmpty)(Re)?yt:Re,["accessKeyId","secretAccessKey","sessionToken"])),{region:Y.b})).getObject({Bucket:Y.c,Key:`${Re.awsKeyPath||yt.awsKeyPath}/${($e=_t.find(we=>we._id===Me))==null?void 0:$e.name}.zip`}).promise(),Jt=le(s(le({applicationId:Me},(Bt||na)&&{screens:((pt=x==null?void 0:x.generatedIdData)==null?void 0:pt.screenCount)||0}),{technology:j.f.TECHNOLOGY[Ye],sourceCodeAction:j.f.SOURCE_CODE_ACTION.DOWNLOAD,generatorVersion:x==null?void 0:x.version}),(u==null?void 0:u.subscriptionPlanDetails)&&s(le({currentPlanName:(Ft=(Nt=u==null?void 0:u.subscriptionPlanDetails)==null?void 0:Nt.planPricingDetails)==null?void 0:Ft.external_name},![D.a.FREE_FOREVER,D.a.ENTERPRISE].includes((Yt=(ft=u==null?void 0:u.subscriptionPlanDetails)==null?void 0:ft.planPricingDetails)==null?void 0:Yt.item_id)&&{currentPlanDuration:j.f.PLAN_DURATION[(Ut=(zt=u==null?void 0:u.subscriptionPlanDetails)==null?void 0:zt.planPricingDetails)==null?void 0:Ut.period_unit]}),{addonScreens:(Qe=(Ot=u==null?void 0:u.subscriptionPlanDetails)==null?void 0:Ot.usageSummary)==null?void 0:Qe.addOnCount}));Xt.then(we=>{var xt,qe;we&&(Z(j.g.SOURCE_CODE,s(le({},Jt),{executionStatus:j.f.EXECUTION_STATUS.SUCCESS})),Le(ce.g.DOWNLOAD_CODE_COMPLETED,s(le({},Jt),{applicationName:x==null?void 0:x.displayName})),(xt=u==null?void 0:u.hideExportPopup)==null||xt.call(u),vt.downloadStatus="success",(qe=u==null?void 0:u.codeViewMixPanelLog)==null||qe.call(u),it({data:we.Body}),F())}).catch(we=>{if((we==null?void 0:we.name)===Y.a){const xt=Object(Ee.b)(Ye,Me,$t);Object(b.a)(xt).then(qe=>{ht(Object(Be.f)({currentProject:{applications:_t.map(Dt=>Dt._id===Me?s(le({},Dt),{awsToken:qe.data.accessParam||{}}):Dt)}})),Vt(qe.data.accessParam)}).catch(qe=>{He(qe),F()})}else Z(j.g.SOURCE_CODE,s(le({},Jt),{executionStatus:j.f.EXECUTION_STATUS.FAILED,reason:we==null?void 0:we.message})),He(we.message),F()})},ut=()=>{B();let Re="&isDownloadZip=true&isForceUpdate=true";Ze?Re+=`&isSecondaryBuild=${Ze}`:be&&(Re+=`&screenExportBuild=${be}`),Object(E.m)(Me,Re,{isHandleCatch:!0}).then($e=>{var pt;["OK","ADD_ON_USED"].includes($e==null?void 0:$e.code)?Vt():(He($e==null?void 0:$e.message),F(),(pt=u==null?void 0:u.hideExportPopup)==null||pt.call(u))}).catch($e=>{He($e),F()})},kt=()=>{Ct!==he.g.VERIFIED?V(!0):Pt?d():ut()};return e.a.createElement(e.a.Fragment,null,u.dashboard?e.a.createElement(Te.i,le({variant:"secondary",tooltip:"Download source code",className:"",leftIcon:e.a.createElement(o.c.Download,null),disabled:Object(c.isEmpty)(x==null?void 0:x.awsToken)||A,onClick:kt,shape:"square",loading:A},u),"Download source code"):u.fromExportCodePopup?e.a.createElement(Te.i,le({size:"medium",variant:u.variant||"coolgray",shape:"square",className:u.className,leftIcon:e.a.createElement(o.c.Download,null),disabled:Object(c.isEmpty)(x==null?void 0:x.awsToken)||A,onClick:kt,loading:A},u),(r=u==null?void 0:u.label)!=null?r:"Download"):e.a.createElement(Te.i.Icon,le({variant:"secondary",tooltip:"Download source code",className:"",disabled:Object(c.isEmpty)(x==null?void 0:x.awsToken)||A,onClick:kt,shape:"square",loading:A},u),e.a.createElement(o.c.DownloadFolder,null)),e.a.createElement(Te.o,{isOpen:De,handleSubmit:()=>Ve(),title:"",description:"Suspicious email found. You can not perform this action.",okText:"Ok",color:"default"}),e.a.createElement(Te.o,{title:"",description:Je,isOpen:!!Je,handleSubmit:()=>gt(""),color:"default",okText:"Ok"}),e.a.createElement(Te.B,{isOpen:ae,closeModal:()=>{V(!1)}}))};var ue=ot},2527:function(st,K,t){"use strict";t.d(K,"a",function(){return Te});var U=t(0),e=t.n(U),i=t(139),fe=t(331),c=t.n(fe),w=t(5),o=t.n(w),ie=t(2478),ce=t(8),de=t(47),pe=t(29),Y=t(21),b=t(421),Ae=t(31);const Te=({displayLogRef:C,isDrawer:he=!0,deployType:z,hideLogParent:Ee})=>{var E,j,H,Be;const[D,L,R]=Object(de.a)(!1),{sseRequest:v,sseResponse:re,sseTerminate:X}=Object(pe.h)(),{currentApplicationId:te,currentProjectDetail:ne}=Object(Ae.d)(),le=(Be=(H=(j=(E=ne==null?void 0:ne.applicationList)==null?void 0:E.find(ae=>ae._id===te))==null?void 0:j.output)==null?void 0:H.production)==null?void 0:Be.stateStatus,[s,ot]=e.a.useState([]),[ue,u,h]=Object(de.a)(!1),[g,J,r]=Object(de.a)(!1),A=e.a.useRef(!1);e.a.useImperativeHandle(C,()=>({setLog:L,hideLog:R}));const B=()=>{ot([]),J(),ue&&(A.current=!0,h()),v({url:`${z===b.a.PRODUCTION?Y.a.nodeDeployProduction.getLog:Y.a.nodeDeploy.getLog}?applicationId=${te}`})};e.a.useEffect(()=>{(D||!he)&&![b.b.TERMINATE_SERVER,b.b.STOP_SERVER].includes(le)?(Ee&&Ee.current&&Ee.current.hideLog(),B()):(X&&X(),ot([])),A.current=!1},[D]),e.a.useEffect(()=>{(re==null?void 0:re.type)==="exit"&&(u(),r()),re!=null&&re.data&&(ot(ae=>[...ae,re==null?void 0:re.data]),r())},[re]);const F=()=>e.a.createElement(e.a.Fragment,null,g&&e.a.createElement("div",{className:ie.a.logText},"processing....."),!g&&!Object(w.isEmpty)(s)&&s.map(ae=>e.a.createElement("div",{className:ie.a.logText,dangerouslySetInnerHTML:{__html:c.a.sanitize(ae)}})),!g&&Object(w.isEmpty)(s)&&e.a.createElement("div",{className:ie.a.logText},"There is no production deploy log."));return e.a.createElement(e.a.Fragment,null,he?e.a.createElement(i.a,{open:D,handleSubmit:R,onClose:R,handleCancel:R,level:null,showMask:!1,handler:!1,placement:"bottom",wrapperClassName:"w-sidebarRight deployLogDrawer"},e.a.createElement(ce.x,{onClick:R}),e.a.createElement("div",{className:"flex flex-shrink-0 justify-between pr-10 py-2 px-3 border-b border-outline items-center bg-surface2"},e.a.createElement(ce.H,{variant:"dhi_sub2"},`${z===b.a.PRODUCTION?"Production":"Sandbox"}`," ","deploy log"),e.a.createElement("div",{className:""},e.a.createElement(ce.i,{variant:"coolgray",size:"medium",shape:"square",disabled:!ue,onClick:ae=>{B(),ae.stopPropagation()}},"Refresh log"))),e.a.createElement("div",{className:"deploylog h-60 xxl:h-72 overflow-auto p-3"},e.a.createElement(F,null))):e.a.createElement("div",{className:ie.a.productionLog},e.a.createElement("div",{className:ie.a.productionLogHead,onClick:D?R:L},e.a.createElement(ce.H,{variant:"dhi_sub2"},"Production deploy log"),e.a.createElement("div",{className:"flex items-center"},(D||!he)&&e.a.createElement(ce.i,{variant:"coolgray",size:"medium",shape:"square",disabled:!ue,onClick:ae=>{B(),ae.stopPropagation()}},"Refresh log"))),e.a.createElement("div",{className:`${ie.a.productionLogInner} "deploylog h-60 xxl:h-72 overflow-auto p-3"`},e.a.createElement(F,null))))}},2639:function(st,K,t){"use strict";t.d(K,"a",function(){return c});var U=t(0),e=t.n(U),i=t(139),fe=t(8);const c=({isOpen:w,onClose:o=()=>{},errorLog:ie="",title:ce="Error Log"})=>e.a.createElement("div",null,e.a.createElement(i.a,{open:w,handleSubmit:o,onClose:o,handleCancel:o,ease:!0,level:null,handler:!1,placement:"right",wrapperClassName:""},e.a.createElement(fe.x,{onClick:o}),e.a.createElement(fe.z,{title:ce}),e.a.createElement(fe.m,{value:ie,readOnly:!0})))},2645:function(st,K,t){"use strict";(function(U){t.d(K,"a",function(){return ae});var e=t(2382),i=t(2351),fe=t(74),c=t.n(fe),w=t(0),o=t.n(w),ie=t(276),ce=t.n(ie),de=t(3),pe=t(5),Y=t.n(pe),b=t(34),Ae=t(109),Te=t(85),C=t(4),he=t(2313),z=t(8),Ee=t(2356),E=t(47),j=t(29),H=t(11),Be=t(2432),D=t(2646),L=t(2453),R=t(2318),v=t(173),re=t(81),X=t(2),te=t(230),ne=t(6),le=t(2243),s=t(31),ot=Object.defineProperty,ue=Object.defineProperties,u=Object.getOwnPropertyDescriptors,h=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable,r=(V,Z,Le)=>Z in V?ot(V,Z,{enumerable:!0,configurable:!0,writable:!0,value:Le}):V[Z]=Le,A=(V,Z)=>{for(var Le in Z||(Z={}))g.call(Z,Le)&&r(V,Le,Z[Le]);if(h)for(var Le of h(Z))J.call(Z,Le)&&r(V,Le,Z[Le]);return V},B=(V,Z)=>ue(V,u(Z));const F=t(2368);c.a.extend(F);const ae=({isDashboard:V,isSecondaryBuild:Z=!1,secondaryAppData:Le={},codeViewMixPanelLog:Je=()=>{}})=>{var gt,mt,ht,Me;const{currentApplicationCode:Se,currentApplicationId:Ye,currentProjectId:ye,currentProjectDetail:Ct}=Object(s.d)(),[Pt,De]=Object(w.useState)(!1),[d,Ve]=Object(w.useState)({}),[x,He,_t]=Object(E.a)(!1),[yt,$t,Bt]=Object(E.a)(!1),[na,bt,Ze]=Object(E.a)(!1),{addErrorToast:be}=Object(j.i)(),[vt,it,Vt]=Object(E.a)(!1),[ut,kt]=Object(w.useState)(R.a.GIT_HUB),Re=Object(j.j)(v.a.GIT_INTEGRATION),{userData:{status:$e,isFakeEmail:pt}}=Object(j.e)(),[Nt,Ft,ft]=Object(E.a)(!1),[Yt,zt]=Object(w.useState)(""),{mixPanelTrack:Ut}=Object(te.a)(),{webengageTrackEvent:Ot}=Object(Ae.a)(),Qe=(gt=Ct==null?void 0:Ct.applicationList)==null?void 0:gt.find(rt=>(rt==null?void 0:rt._id)===Ye),Pa=[X.c.androidFigma,X.c.flutter,X.c.IOS].includes(Se),Xt=!Object(pe.isEmpty)(Se)&&Object(Te.b)(Se),[Jt,we]=Object(w.useState)(!1),[xt,qe]=o.a.useState(!1),[Dt,la,ga]=Object(E.a)(!1),[Ra,Zt]=o.a.useState(""),[Oa,oa]=o.a.useState(!1),Aa=new URLSearchParams(window.location.search),Ht=H.a.get(C.z),Ta=Aa.get("isSecondaryBuild"),ke=()=>{var rt;$t(),Object(he.d)(Z?(rt=Le==null?void 0:Le._id)!=null?rt:Ht==null?void 0:Ht._id:Ye).then(At=>{var qt,It;Ve(At==null?void 0:At.data),kt((qt=At==null?void 0:At.data)==null?void 0:qt.gitConfiguredType),zt((It=At==null?void 0:At.data)==null?void 0:It.domainUrl)}).catch(be).finally(Bt)};o.a.useEffect(()=>{ke()},[]);const Wt=()=>{De(!0)},ia=()=>{ke(),De(!1),we(!1)},da=rt=>{rt?bt():Ze()},ha=()=>{if(da(!1),$e!==re.g.VERIFIED)qe(!0);else if(pt)la();else{let rt=window.location.pathname.split("/").slice(1).join("_");Ta&&(rt+="_$isSecondaryBuild=true");const At=H.a.get(C.c);window.location.href=`${C.a.gitInteration.sync}/${ye}/${At}/${rt}`}},Ca=()=>{var rt,At,qt;if($e!==re.g.VERIFIED)qe(!0);else if(pt)la();else{He();const It=B(A({applicationId:Ye},(Pa||Xt)&&{screens:((rt=Qe==null?void 0:Qe.generatedIdData)==null?void 0:rt.screenCount)||0}),{technology:ne.f.TECHNOLOGY[Se]});if(ut===R.a.GIT_HUB){const ea=H.a.get(C.c);Object(he.b)({companyId:ea,projectId:ye,applicationId:Z?(At=Le==null?void 0:Le._id)!=null?At:Ht==null?void 0:Ht._id:Ye,isForceUpdate:!0}).then(ze=>{const ua=A(A({},d),ze==null?void 0:ze.data);Ve(ua),Je(),ze!=null&&ze.message&&(Zt(ze==null?void 0:ze.message),oa(!0)),Ut(ne.g.SOURCE_CODE,B(A({},It),{executionStatus:ne.f.EXECUTION_STATUS.SUCCESS,sourceCodeAction:ne.f.SOURCE_CODE_ACTION.GITHUB_SYNC,generatorVersion:Qe==null?void 0:Qe.version})),Ot(b.g.DOWNLOAD_CODE_COMPLETED,B(A({},It),{sourceCodeAction:ne.f.SOURCE_CODE_ACTION.GITHUB_SYNC,generatorVersion:Qe==null?void 0:Qe.version}))}).catch(ze=>{ze&&(Zt(ze),oa(!0)),ke(),Ut(ne.g.SOURCE_CODE,B(A({},It),{executionStatus:ne.f.EXECUTION_STATUS.FAILED,sourceCodeAction:ne.f.SOURCE_CODE_ACTION.GITHUB_SYNC,generatorVersion:Qe==null?void 0:Qe.version,reason:ze}))}).finally(_t)}else{const ea=H.a.get(C.c);Object(he.c)({companyId:ea,projectId:ye,applicationId:Z?(qt=Le==null?void 0:Le._id)!=null?qt:Ht==null?void 0:Ht._id:Ye,isForceUpdate:!0}).then(ze=>{const ua=A(A({},d),ze.data);Ve(ua),Je(),ze!=null&&ze.message&&(Zt(ze==null?void 0:ze.message),oa(!0)),Ut(ne.g.SOURCE_CODE,B(A({},It),{executionStatus:ne.f.EXECUTION_STATUS.SUCCESS,sourceCodeAction:ne.f.SOURCE_CODE_ACTION.GITLAB_SYNC,generatorVersion:Qe==null?void 0:Qe.version})),Ot(b.g.DOWNLOAD_CODE_COMPLETED,B(A({},It),{sourceCodeAction:ne.f.SOURCE_CODE_ACTION.GITLAB_SYNC,generatorVersion:Qe==null?void 0:Qe.version}))}).catch(ze=>{ze&&(Zt(ze),oa(!0)),ke(),Ut(ne.g.SOURCE_CODE,B(A({},It),{executionStatus:ne.f.EXECUTION_STATUS.FAILED,sourceCodeAction:ne.f.SOURCE_CODE_ACTION.GITLAB_SYNC,generatorVersion:Qe==null?void 0:Qe.version,reason:ze}))}).finally(_t)}}},Ia=()=>{$e!==re.g.VERIFIED?qe(!0):pt?la():it()},Qt=()=>{Ft(),Object(he.h)(ye).then(()=>{ke()}).catch(rt=>{be(rt),ke()}).finally(ft)},[ra,et]=o.a.useState(!1),Ea=o.a.useCallback(()=>{et(!ra)}),Na=()=>{var rt,At,qt,It,ea,ze,ua,Da;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:""},!V&&o.a.createElement(o.a.Fragment,null,ut===R.a.GIT_HUB?o.a.createElement("div",{className:"flex items-center mb-2"},o.a.createElement(z.d,{variant:"none",source:e.a,size:"xs"}),o.a.createElement(z.H,{variant:"dhi_sub2",className:"ml-2 font-bold"},"GitHub")):o.a.createElement("div",{className:"flex items-center mb-2"},o.a.createElement(z.d,{imageClass:"xl:object-contain xxl:object-contain",variant:"none",source:i.a,size:"xxs"}),o.a.createElement(z.H,{variant:"dhi_sub2",className:"ml-2 font-bold"},"GitLab"))),o.a.createElement("div",{className:"flex items-center"},o.a.createElement("div",{className:"text-b1 text-medium mr-2"},"Branch name:"),o.a.createElement(z.Q,{smallTitle:`${ut===R.a.GIT_HUB?(rt=d==null?void 0:d.gitRepoDetails)==null?void 0:rt.full_name:(At=d==null?void 0:d.gitRepoDetails)==null?void 0:At.path_with_namespace}`})),o.a.createElement("div",{className:"flex items-center mt-2"},o.a.createElement("div",{className:"text-b1 text-medium mr-2 whitespace-nowrap"},"Repo URL:"),o.a.createElement(z.K,{className:`truncate text-b1 block ${V?"w-full":"ml-2"}`,onClick:()=>{var La,Sa;return window.open(ut===R.a.GIT_HUB?(La=d==null?void 0:d.gitRepoDetails)==null?void 0:La.html_url:(Sa=d==null?void 0:d.gitRepoDetails)==null?void 0:Sa.http_url_to_repo,"_blank")}},ut===R.a.GIT_HUB?(qt=d==null?void 0:d.gitRepoDetails)==null?void 0:qt.html_url:(It=d==null?void 0:d.gitRepoDetails)==null?void 0:It.http_url_to_repo)),((ea=d==null?void 0:d.gitSyncLog)==null?void 0:ea.createdAt)&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"flex items-center mt-2"},o.a.createElement("div",{className:"text-b1 text-medium mr-2 whitespace-nowrap"},"Date:"),o.a.createElement("div",{className:"text-b1 text-high"},c()((ze=d==null?void 0:d.gitSyncLog)==null?void 0:ze.createdAt).format("ll"))),o.a.createElement("div",{className:"flex items-center mt-2"},o.a.createElement("div",{className:"text-b1 text-medium mr-2 whitespace-nowrap"},"Time:"),o.a.createElement("div",{className:"text-b1 text-high"},c()((ua=d==null?void 0:d.gitSyncLog)==null?void 0:ua.createdAt).format("LT"))))),o.a.createElement("div",{className:`flex-grow-0 flex-shrink flex ${V?"mt-2 flex-wrap":"mt-3"}`},!((Da=d==null?void 0:d.gitSyncLog)!=null&&Da.createdAt)&&(Re==null?void 0:Re.VIEW)&&o.a.createElement(z.i,{variant:"outline",className:`${V?"w-full mb-2":"w-5/12 mr-2"}`,shape:"square",size:"small",onClick:()=>{we(!0),Wt()}},"Change repository"),(Re==null?void 0:Re.UPDATE)&&o.a.createElement(z.i,{color:"success",className:`${V?"w-full":"w-5/12"}`,shape:"square",size:"medium",onClick:Ca,loading:x,disabled:x},"Commit")))};return o.a.createElement("div",{className:`flex ${V&&"w-full"}`},o.a.createElement("div",{variant:"flat",popupList:!0,className:`justify-between items-center ${V?"w-full":"flex "}`},V&&(d==null?void 0:d.isGitConfigured)&&o.a.createElement(z.H,{variant:"dhi_sub4",className:"mb-1"},"Synced with"," ",ut===R.a.GIT_HUB?o.a.createElement("div",{className:"flex items-center mb-2  mt-2"},o.a.createElement("div",{className:"flex items-center cursor-pointer"},o.a.createElement("img",{variant:"none",src:e.a,className:"w-6 h-6",size:"xxs",alt:""})),o.a.createElement(z.H,{variant:"dhi_sub2",className:"ml-2 font-bold"},"GitHub")):o.a.createElement("div",{className:"flex items-center mb-2  mt-2"},o.a.createElement("div",{className:"flex items-center cursor-pointer"},o.a.createElement("img",{className:"w-6 h-6 object-contain",variant:"none",src:i.a,size:"xxs",alt:""})),o.a.createElement(z.H,{variant:"dhi_sub2",className:"ml-2 font-bold"},"GitLab"))),yt?o.a.createElement(D.a,null):(d==null?void 0:d.gitRepoDetails)&&((mt=U==null?void 0:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_UI_BUILDER_SERVICE_URL:"https://appuibuilder.dhiwise.com",REACT_APP_WORKFLOW_ADMIN_SERVICE_URL:"https://workflowadminback.dhiwise.com/admin",REACT_APP_IP_FETCH_KEY:"986b19494abbdc2bbec1ee674ef1b8b6",REACT_APP_WORKFLOW_CODEGEN_SERVICE_URL:"https://dhiwiseworkflow.dhiwise.com",REACT_APP_GENERATE_SERVICE_URL:"https://appproject.dhiwise.com",REACT_APP_MIXPANEL_KEY:"c8445e3f39e47d05adfed8ed9486e61b",REACT_APP_ENTERPRISE_PLAN_ID:"Enterprise-v0",REACT_APP_FLAGSMITH_ENVIRONMENT_ID:"ct4EJaHEFzkbpDKgu3e42A",REACT_APP_ALLOW_GIT_INTEGRATION:"true",REACT_APP_CODE_FORMAT_SERVICE_URL:"https://appcodeformat.dhiwise.com",REACT_APP_PROJECT_SERVICE_URL:"https://appproject.dhiwise.com",REACT_APP_LINKEDIN_ID:"5703129",REACT_APP_CANNY_TOKEN:"a1cbb58b-b9f6-27d0-0b94-cc3e7ff2626d",REACT_APP_MIXPANEL_KEY_TEST_SPACE:"0164924b8746e086a55476f3e9e5b42c",REACT_APP_SUBSCRIPTION_SERVICE:"https://appplanapi.dhiwise.com",REACT_APP_MIXPANEL_KEY_USER_JOURNEY_SMART_EDITOR:"a4891365e9602a8a17843f0db600c9a8",REACT_APP_FREE_FOREVER_PLAN_ID:"Free-Forever-v0",REACT_APP_PRO_PLAN_ID:"Pro-V0",REACT_APP_AMPLITUDE_KEY:"9bc5a0ed19481d9e3a8409669d4ee751",REACT_APP_MIXPANEL_KEY_UI_BUILDER:"0ab88cfae7381a7ab4df1c1a71d413ce",REACT_APP_ENVIRONMENT:"production",REACT_APP_BASIC_PLAN_ID:"Basic-v0",REACT_APP_DOC_ENVIRONMENT:"dhiwise_production",REACT_APP_SENTRY_DNS:"https://7fdd965553ec4368a03d79331cbd7375@o769898.ingest.sentry.io/5795106",REACT_APP_BILLING_PANEL_URL:"https://appbilling.dhiwise.com",REACT_APP_IMAGE_URL:"https://apppublic.dhiwise.com",REACT_APP_WORKFLOW_APIRunner:"https://apirunner.dhiwise.com",REACT_APP_AWS_S3_BUCKET_NAME:"dhws-production",REACT_APP_FLUTTER_PREVIEW_URL:"https://preview.dhiwise.com",REACT_APP_REACT_PREVIEW_URL:"https://reactuibuilder.dhiwise.com",REACT_APP_WORKFLOW_SERVICE_URL:"https://workflows.dhiwise.com/client",REACT_APP_USER_SERVICE_URL:"https://appuser.dhiwise.com",REACT_APP_GTAG_CODE:"GTM-KRTHKD8",REACT_APP_FIGMA_CLIENT_ID:"ge7ZlfDvcrEn5BD04Dk6I4"}))==null?void 0:mt.REACT_APP_ALLOW_GIT_INTEGRATION)==="true"?o.a.createElement(o.a.Fragment,null,V?o.a.createElement(Na,null):o.a.createElement(le.a,{dropdownWrapClass:"w-96 git-popup",place:"above",data:o.a.createElement(o.a.Fragment,null,o.a.createElement(z.i,{variant:"primary",className:"ml-2",size:"medium",rightIcon:o.a.createElement(de.c.DownArrow,null)},"Git info & commit")),popOverValue:o.a.createElement(Na,null)})):o.a.createElement("div",{className:"flex justify-between items-center"},!(d!=null&&d.isGitConfigured)&&((ht=U==null?void 0:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_UI_BUILDER_SERVICE_URL:"https://appuibuilder.dhiwise.com",REACT_APP_WORKFLOW_ADMIN_SERVICE_URL:"https://workflowadminback.dhiwise.com/admin",REACT_APP_IP_FETCH_KEY:"986b19494abbdc2bbec1ee674ef1b8b6",REACT_APP_WORKFLOW_CODEGEN_SERVICE_URL:"https://dhiwiseworkflow.dhiwise.com",REACT_APP_GENERATE_SERVICE_URL:"https://appproject.dhiwise.com",REACT_APP_MIXPANEL_KEY:"c8445e3f39e47d05adfed8ed9486e61b",REACT_APP_ENTERPRISE_PLAN_ID:"Enterprise-v0",REACT_APP_FLAGSMITH_ENVIRONMENT_ID:"ct4EJaHEFzkbpDKgu3e42A",REACT_APP_ALLOW_GIT_INTEGRATION:"true",REACT_APP_CODE_FORMAT_SERVICE_URL:"https://appcodeformat.dhiwise.com",REACT_APP_PROJECT_SERVICE_URL:"https://appproject.dhiwise.com",REACT_APP_LINKEDIN_ID:"5703129",REACT_APP_CANNY_TOKEN:"a1cbb58b-b9f6-27d0-0b94-cc3e7ff2626d",REACT_APP_MIXPANEL_KEY_TEST_SPACE:"0164924b8746e086a55476f3e9e5b42c",REACT_APP_SUBSCRIPTION_SERVICE:"https://appplanapi.dhiwise.com",REACT_APP_MIXPANEL_KEY_USER_JOURNEY_SMART_EDITOR:"a4891365e9602a8a17843f0db600c9a8",REACT_APP_FREE_FOREVER_PLAN_ID:"Free-Forever-v0",REACT_APP_PRO_PLAN_ID:"Pro-V0",REACT_APP_AMPLITUDE_KEY:"9bc5a0ed19481d9e3a8409669d4ee751",REACT_APP_MIXPANEL_KEY_UI_BUILDER:"0ab88cfae7381a7ab4df1c1a71d413ce",REACT_APP_ENVIRONMENT:"production",REACT_APP_BASIC_PLAN_ID:"Basic-v0",REACT_APP_DOC_ENVIRONMENT:"dhiwise_production",REACT_APP_SENTRY_DNS:"https://7fdd965553ec4368a03d79331cbd7375@o769898.ingest.sentry.io/5795106",REACT_APP_BILLING_PANEL_URL:"https://appbilling.dhiwise.com",REACT_APP_IMAGE_URL:"https://apppublic.dhiwise.com",REACT_APP_WORKFLOW_APIRunner:"https://apirunner.dhiwise.com",REACT_APP_AWS_S3_BUCKET_NAME:"dhws-production",REACT_APP_FLUTTER_PREVIEW_URL:"https://preview.dhiwise.com",REACT_APP_REACT_PREVIEW_URL:"https://reactuibuilder.dhiwise.com",REACT_APP_WORKFLOW_SERVICE_URL:"https://workflows.dhiwise.com/client",REACT_APP_USER_SERVICE_URL:"https://appuser.dhiwise.com",REACT_APP_GTAG_CODE:"GTM-KRTHKD8",REACT_APP_FIGMA_CLIENT_ID:"ge7ZlfDvcrEn5BD04Dk6I4"}))==null?void 0:ht.REACT_APP_ALLOW_GIT_INTEGRATION)==="true"?o.a.createElement("div",{className:V?"":"flex flex-wrap items-center "},!V&&o.a.createElement("hr",{className:"w-0.5 h-6 bg-dhiGray-400 sm:border-0 mx-3"}),o.a.createElement(z.H,{variant:"dhi_b1",className:"mr-3"},"Sync with:"),o.a.createElement("div",{className:`flex items-center flex-wrap ${!V&&"bg-dhiPrimary-500 rounded-3 px-3 py-1"} ${V&&"mt-2"}`},o.a.createElement("div",{className:"mr-3",onClick:()=>da(!0)},o.a.createElement("div",{className:"flex items-center cursor-pointer"},o.a.createElement("img",{variant:"none",src:e.a,className:"w-6 h-6",size:"xxs",alt:""}))),o.a.createElement("div",{className:"mr-3",onClick:()=>Ia()},o.a.createElement("div",{className:"flex items-center cursor-pointer"},o.a.createElement("img",{className:"w-6 h-6 object-contain",variant:"none",src:i.a,size:"xxs",alt:""}))),o.a.createElement(ce.a,{body:[o.a.createElement(Ee.a,null)],isOpen:ra,onOuterAction:Ea,refreshIntervalMs:10,enterExitTransitionDurationMs:10,tipSize:10,place:"left",className:"popupCustom"},o.a.createElement("div",{className:"w-3.5 h-3.5 cursor-pointer",onClick:Ea},o.a.createElement(de.c.Info,null))))):(Re==null?void 0:Re.VIEW)&&((Me=U==null?void 0:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_UI_BUILDER_SERVICE_URL:"https://appuibuilder.dhiwise.com",REACT_APP_WORKFLOW_ADMIN_SERVICE_URL:"https://workflowadminback.dhiwise.com/admin",REACT_APP_IP_FETCH_KEY:"986b19494abbdc2bbec1ee674ef1b8b6",REACT_APP_WORKFLOW_CODEGEN_SERVICE_URL:"https://dhiwiseworkflow.dhiwise.com",REACT_APP_GENERATE_SERVICE_URL:"https://appproject.dhiwise.com",REACT_APP_MIXPANEL_KEY:"c8445e3f39e47d05adfed8ed9486e61b",REACT_APP_ENTERPRISE_PLAN_ID:"Enterprise-v0",REACT_APP_FLAGSMITH_ENVIRONMENT_ID:"ct4EJaHEFzkbpDKgu3e42A",REACT_APP_ALLOW_GIT_INTEGRATION:"true",REACT_APP_CODE_FORMAT_SERVICE_URL:"https://appcodeformat.dhiwise.com",REACT_APP_PROJECT_SERVICE_URL:"https://appproject.dhiwise.com",REACT_APP_LINKEDIN_ID:"5703129",REACT_APP_CANNY_TOKEN:"a1cbb58b-b9f6-27d0-0b94-cc3e7ff2626d",REACT_APP_MIXPANEL_KEY_TEST_SPACE:"0164924b8746e086a55476f3e9e5b42c",REACT_APP_SUBSCRIPTION_SERVICE:"https://appplanapi.dhiwise.com",REACT_APP_MIXPANEL_KEY_USER_JOURNEY_SMART_EDITOR:"a4891365e9602a8a17843f0db600c9a8",REACT_APP_FREE_FOREVER_PLAN_ID:"Free-Forever-v0",REACT_APP_PRO_PLAN_ID:"Pro-V0",REACT_APP_AMPLITUDE_KEY:"9bc5a0ed19481d9e3a8409669d4ee751",REACT_APP_MIXPANEL_KEY_UI_BUILDER:"0ab88cfae7381a7ab4df1c1a71d413ce",REACT_APP_ENVIRONMENT:"production",REACT_APP_BASIC_PLAN_ID:"Basic-v0",REACT_APP_DOC_ENVIRONMENT:"dhiwise_production",REACT_APP_SENTRY_DNS:"https://7fdd965553ec4368a03d79331cbd7375@o769898.ingest.sentry.io/5795106",REACT_APP_BILLING_PANEL_URL:"https://appbilling.dhiwise.com",REACT_APP_IMAGE_URL:"https://apppublic.dhiwise.com",REACT_APP_WORKFLOW_APIRunner:"https://apirunner.dhiwise.com",REACT_APP_AWS_S3_BUCKET_NAME:"dhws-production",REACT_APP_FLUTTER_PREVIEW_URL:"https://preview.dhiwise.com",REACT_APP_REACT_PREVIEW_URL:"https://reactuibuilder.dhiwise.com",REACT_APP_WORKFLOW_SERVICE_URL:"https://workflows.dhiwise.com/client",REACT_APP_USER_SERVICE_URL:"https://appuser.dhiwise.com",REACT_APP_GTAG_CODE:"GTM-KRTHKD8",REACT_APP_FIGMA_CLIENT_ID:"ge7ZlfDvcrEn5BD04Dk6I4"}))==null?void 0:Me.REACT_APP_ALLOW_GIT_INTEGRATION)==="true"&&o.a.createElement("div",{className:!V&&"ml-2 flex items-center"},o.a.createElement(z.Q,{smallTitle:ut===R.a.GIT_SELF_MANAGE&&!(d!=null&&d.isWhitelisted)?"Please whitelist our IP for further process":""}),ut===R.a.GIT_SELF_MANAGE&&!(d!=null&&d.isWhitelisted)?o.a.createElement(z.i,{onClick:Qt,loading:Nt,variant:"outline",className:"ml-1",size:"medium",shape:"square"},"Whitelist"):o.a.createElement(z.i,{onClick:Wt,variant:"primary",size:"medium",shape:"square"},"Select git repository")))),o.a.createElement(L.a,{isOpen:vt,closeModal:Vt,projectId:ye,onSubmit:ke,applicationCode:Se}),Pt&&o.a.createElement(Be.a,{isOpen:Pt,onClose:ia,onDrawerClose:ia,gitRepoDetails:d==null?void 0:d.gitRepoDetails,gitType:ut,addRepoUrl:Yt,isChangeRepo:Jt,isSecondaryBuild:Z,secondaryAppData:Le}),o.a.createElement(z.o,{isOpen:Dt,handleSubmit:ga,title:"",description:"Suspicious email found. You can not perform this action.",okText:"Ok",color:"default"}),o.a.createElement(z.B,{isOpen:xt,closeModal:()=>{qe(!1)}}),o.a.createElement(z.o,{isOpen:na,handleSubmit:()=>{da(!1),ha(ye)},title:"",color:"default",size:"sm:w-5/12",okText:"OK"},o.a.createElement(Ee.a,{isGitHub:!0})),o.a.createElement(z.o,{isOpen:Oa,handleSubmit:()=>oa(!1),title:"Git Commit",color:"default",size:"w-5/12 xxl:w-3/12",description:Ra,okText:"OK"}))}}).call(this,t(55))},2646:function(st,K,t){"use strict";var U=t(0),e=t.n(U),i=t(558);const fe=({rows:c})=>e.a.createElement("div",{className:"flex justify-end"},Array(c||2).fill("").map(()=>e.a.createElement(i.a,{speed:2,className:"",width:"50",height:"30",backgroundColor:"var(--dhi-surface2)",foregroundColor:"var(--dhi-surfacew2)"},e.a.createElement("circle",{cx:"20",cy:"15",r:"15"}))));K.a=fe},2738:function(st,K,t){"use strict";var U=t(0),e=t.n(U),i=t(3),fe=t(74),c=t.n(fe),w=t(5),o=t(34),ie=t(109),ce=t(21),de=t(8),pe=t(47),Y=t(421),b=t(6),Ae=t(2),Te=t(29),C=t(230),he=t(593),z=t(2527),Ee=t(190),E=t(31),j=t(51),H=Object.defineProperty,Be=Object.defineProperties,D=Object.getOwnPropertyDescriptors,L=Object.getOwnPropertySymbols,R=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,re=(ue,u,h)=>u in ue?H(ue,u,{enumerable:!0,configurable:!0,writable:!0,value:h}):ue[u]=h,X=(ue,u)=>{for(var h in u||(u={}))R.call(u,h)&&re(ue,h,u[h]);if(L)for(var h of L(u))v.call(u,h)&&re(ue,h,u[h]);return ue},te=(ue,u)=>Be(ue,D(u));function ne({setMainLoader:ue,mainLoadingState:u,productionLogRef:h,sandBoxLogRef:g}){var J,r,A,B,F,ae,V;const[Z,Le,Je]=Object(pe.a)(u||!1),[gt,mt]=e.a.useState(!0),ht=e.a.useRef(),[Me,Se]=Object(E.b)(),{currentApplicationId:Ye,currentProjectDetail:ye,currentApplicationCode:Ct,buildProjectData:Pt}=Me,De=ye==null?void 0:ye.applicationList,d=(J=ye==null?void 0:ye.applicationList)==null?void 0:J.find(Ze=>Ze._id===Ye),Ve=!Object(w.isEmpty)(Ct)&&Ct===Ae.c.nodeExpress,{sandBoxUrl:x,isUrlExpire:He}={sandBoxUrl:(A=(r=d==null?void 0:d.output)==null?void 0:r.sandbox)==null?void 0:A.domainName,isUrlExpire:(F=(B=d==null?void 0:d.output)==null?void 0:B.sandbox)!=null&&F.currentTime?c()().diff((V=(ae=d==null?void 0:d.output)==null?void 0:ae.sandbox)==null?void 0:V.currentTime,"h")>4:!1},{addErrorToast:_t}=Object(Te.i)(),{mixPanelTrack:yt}=Object(C.a)(),{webengageTrackEvent:$t}=Object(ie.a)(),Bt=Ze=>{const be=De==null?void 0:De.map(vt=>(vt==null?void 0:vt._id)===Ye?te(X({},vt),{output:te(X({},vt.output),{isBuildDeployToProduction:!1,isBuildDeployToSandBox:!0,sandbox:te(X({},Ze),{currentTime:new Date().getTime()})})}):vt);Se(Object(j.f)({currentProject:{applications:be}}))},na=()=>{var Ze,be;const vt={applicationId:Ye,buildVersion:`${(Ze=Pt==null?void 0:Pt.generatedProjectData)==null?void 0:Ze.semanticVersionNumber}.${(be=Pt==null?void 0:Pt.generatedProjectData)==null?void 0:be.versionNumber}`,technology:b.f.TECHNOLOGY[Ct]};Le(),ue(!0),Object(ce.b)(ce.a.nodeDeploy.sandBox,{applicationId:Ye,isMockData:gt}).then(it=>{setTimeout(()=>{var Vt,ut;Je(),ue(!1),Bt(it==null?void 0:it.data),Object(he.b)(te(X({},d),{output:te(X({},d.output),{isBuildDeployToProduction:!1,isBuildDeployToSandBox:!0,sandbox:te(X({},it==null?void 0:it.data),{currentTime:new Date().getTime()})})})),yt(b.g.DEPLOY_APP,te(X({},vt),{deployOn:b.f.DEPLOY_ON.SANDBOX,executionStatus:b.f.EXECUTION_STATUS.SUCCESS})),$t(o.g.DEPLOY_APP_COMPLETED,te(X({},vt),{deployOn:b.f.DEPLOY_ON.SANDBOX,executionStatus:b.f.EXECUTION_STATUS.SUCCESS})),(Vt=it==null?void 0:it.data)!=null&&Vt.domainName&&window.open(`https://${(ut=it==null?void 0:it.data)==null?void 0:ut.domainName}/${Ve?"swagger":""}`)},4e3)}).catch(it=>{Je(),ue(!1),yt(b.g.DEPLOY_APP,te(X({},vt),{deployOn:b.f.DEPLOY_ON.SANDBOX,executionStatus:b.f.EXECUTION_STATUS.FAILED,reason:it})),Bt({}),_t(it)})},bt=()=>{var Ze;(Ze=ht.current)==null||Ze.hideLog()};return e.a.useImperativeHandle(g,()=>({hideLog:bt}),[]),e.a.createElement(e.a.Fragment,null,e.a.createElement("div",{className:"w-full"},e.a.createElement("div",{className:"flex items-center"},e.a.createElement(de.H,{variant:"dhi_sub3",className:"flex-grow flex"},e.a.createElement("div",{className:"w-5 h-5 mr-2"},e.a.createElement(i.c.CodeSandBox,null)),"Deploy on sandbox"),e.a.createElement(de.i.Icon,{size:"small",className:"ml-2 flex-shrink-0",color:Z?"default":"success",loading:Z,onClick:!Z&&na},e.a.createElement(i.c.Play,null))),e.a.createElement("div",{className:"ml-6 mt-1"},e.a.createElement(de.w,null,"Test your APIs before taking it to live."),!Ve&&e.a.createElement("div",{className:"mt-3"},e.a.createElement(Ee.a,{checked:gt,onChange:Ze=>mt(Ze)},e.a.createElement("span",{className:"text-sub3"}," With mock data ?")))),!Z&&x&&e.a.createElement(e.a.Fragment,null,e.a.createElement("div",{className:"bg-surface2 border-1 border-outline py-1.5 px-2 flex items-center rounded-3 mt-2"},e.a.createElement(de.K,{onClick:()=>{He||window.open(`https://${x}/${Ve?"swagger":""}`)},className:`flex-grow sm:text-sm ${He&&"line-through hover:line-through"}`},x),!He&&e.a.createElement(de.q,{size:"small",copyData:`https://${x}`})),He&&e.a.createElement("div",{className:"text-dhiDanger-400 text-base mt-2"},"This link is expired. Please deploy again."))),!Z&&x&&!He&&e.a.createElement("div",{className:"flex justify-between w-full mt-2"},e.a.createElement("div",{onClick:()=>{ht.current.setLog()},className:"text-dhiSecondary-400 text-sm mt-1 underline cursor-pointer"},"View log")),e.a.createElement(z.a,{displayLogRef:ht,deployUrl:x,deployType:Y.a.SANDBOX,hideLogParent:h}))}var le=ne;function s({isDashboard:ue=!1,setMainLoader:u=()=>{},mainLoadingState:h=!1}){const g=e.a.useRef(""),J=e.a.useRef("");return e.a.createElement(e.a.Fragment,null,e.a.createElement("div",{className:`${ue&&"pb-3 px-2 pt-0 flex flex-wrap"}`},e.a.createElement(le,{productionLogRef:g,sandBoxLogRef:J,setMainLoader:u,mainLoadingState:h})))}var ot=K.a=s},3757:function(st,K,t){"use strict";(function(U){t.d(K,"a",function(){return g});var e=t(0),i=t.n(e),fe=t(74),c=t.n(fe),w=t(5),o=t.n(w),ie=t(2382),ce=t(2351),de=t(34),pe=t(109),Y=t(85),b=t(2313),Ae=t(81),Te=t(2356),C=t(8),he=t(2318),z=t(173),Ee=t(29),E=t(31),j=t(2),H=t(6),Be=t(11),D=t(4),L=t(230),R=t(2432),v=t(3758),re=t(2250),X=Object.defineProperty,te=Object.defineProperties,ne=Object.getOwnPropertyDescriptors,le=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,ot=Object.prototype.propertyIsEnumerable,ue=(J,r,A)=>r in J?X(J,r,{enumerable:!0,configurable:!0,writable:!0,value:A}):J[r]=A,u=(J,r)=>{for(var A in r||(r={}))s.call(r,A)&&ue(J,A,r[A]);if(le)for(var A of le(r))ot.call(r,A)&&ue(J,A,r[A]);return J},h=(J,r)=>te(J,ne(r));const g=({isSecondaryBuild:J=!1,gitConfigStatus:r={},secondaryAppData:A={},getGitIntegrationDetails:B=()=>{},setGitConfigStatus:F=()=>{},closeExportCodePopup:ae=()=>{},setGitSyncPending:V=()=>{},setGitSyncCompleted:Z=()=>{},codeViewMixPanelLog:Le=()=>{},subscriptionPlanDetails:Je={}})=>{var gt,mt,ht,Me,Se,Ye,ye,Ct,Pt,De,d,Ve;const{currentApplicationCode:x,currentApplicationId:He,currentProjectId:_t,currentProjectDetail:yt}=Object(E.d)(),[$t,Bt]=i.a.useState(!1),[na,bt]=i.a.useState(!1),Ze=Be.a.get(D.z),be=(gt=yt==null?void 0:yt.applicationList)==null?void 0:gt.find(ke=>(ke==null?void 0:ke._id)===He),vt=[j.c.androidFigma,j.c.flutter,j.c.IOS].includes(x),it=!Object(w.isEmpty)(x)&&Object(Y.b)(x),[Vt,ut,kt]=Object(Ee.a)(!1),[Re,$e,pt]=Object(Ee.a)(!1),[Nt,Ft,ft]=Object(Ee.a)(!1),[Yt,zt,Ut]=Object(Ee.a)(!1),[Ot,Qe,Pa]=Object(Ee.a)(!1),{mixPanelTrack:Xt}=Object(L.a)(),{webengageTrackEvent:Jt}=Object(pe.a)(),{userData:{status:we,isFakeEmail:xt}}=Object(Ee.e)(),qe=Object(Ee.j)(z.a.GIT_INTEGRATION),{addSuccessToast:Dt,addErrorToast:la}=Object(Ee.i)(),Ra=new URLSearchParams(window.location.search).get("isSecondaryBuild"),Zt=()=>{Ft(),V()},Oa=()=>{B(),ft(),Bt(!1)},oa=()=>{if(we!==Ae.g.VERIFIED)bt(!0);else if(xt)Qe();else{let ke=window.location.pathname.split("/").slice(1).join("_");Ra?ke+="_$isSecondaryBuild=true__openDownloadCode=true":ke+="_$openDownloadCode=true";const Wt=Be.a.get(D.c);window.location.href=`${D.a.gitInteration.sync}/${_t}/${Wt}/${ke}`}},Aa=()=>{we!==Ae.g.VERIFIED?bt(!0):xt?Qe():(V(),ut())},Ht=()=>{var ke,Wt,ia,da,ha,Ca,Ia;if(we!==Ae.g.VERIFIED)bt(!0);else if(xt)Qe();else{$e(),Z();const Qt=u(h(u({applicationId:He},(vt||it)&&{screens:((ke=be==null?void 0:be.generatedIdData)==null?void 0:ke.screenCount)||0}),{technology:H.f.TECHNOLOGY[x]}),!Object(w.isEmpty)(Je)&&h(u({currentPlanName:(Wt=Je==null?void 0:Je.planPricingDetails)==null?void 0:Wt.external_name},![re.a.FREE_FOREVER,re.a.ENTERPRISE].includes((ia=Je==null?void 0:Je.planPricingDetails)==null?void 0:ia.item_id)&&{currentPlanDuration:H.f.PLAN_DURATION[(da=Je==null?void 0:Je.planPricingDetails)==null?void 0:da.period_unit]}),{addonScreens:(ha=Je==null?void 0:Je.usageSummary)==null?void 0:ha.addOnCount}));if((r==null?void 0:r.gitConfiguredType)===he.a.GIT_HUB){const ra=Be.a.get(D.c);Object(b.b)({companyId:ra,projectId:_t,applicationId:J?(Ca=A==null?void 0:A._id)!=null?Ca:Ze==null?void 0:Ze._id:He,isForceUpdate:!0}).then(et=>{const Ea=u(u({},r),et==null?void 0:et.data);F(Ea),Le(),et!=null&&et.message&&Dt(et==null?void 0:et.message),ae(),Xt(H.g.SOURCE_CODE,h(u({},Qt),{executionStatus:H.f.EXECUTION_STATUS.SUCCESS,sourceCodeAction:H.f.SOURCE_CODE_ACTION.GITHUB_SYNC,generatorVersion:be==null?void 0:be.version})),Jt(de.g.DOWNLOAD_CODE_COMPLETED,h(u({},Qt),{sourceCodeAction:H.f.SOURCE_CODE_ACTION.GITHUB_SYNC,generatorVersion:be==null?void 0:be.version}))}).catch(et=>{et&&la(et),B(),Xt(H.g.SOURCE_CODE,h(u({},Qt),{executionStatus:H.f.EXECUTION_STATUS.FAILED,sourceCodeAction:H.f.SOURCE_CODE_ACTION.GITHUB_SYNC,generatorVersion:be==null?void 0:be.version,reason:et}))}).finally(pt)}else{const ra=Be.a.get(D.c);Object(b.c)({companyId:ra,projectId:_t,applicationId:J?(Ia=A==null?void 0:A._id)!=null?Ia:Ze==null?void 0:Ze._id:He,isForceUpdate:!0}).then(et=>{const Ea=u(u({},r),et.data);F(Ea),Le(),et!=null&&et.message&&Dt(et==null?void 0:et.message),ae(),Xt(H.g.SOURCE_CODE,h(u({},Qt),{executionStatus:H.f.EXECUTION_STATUS.SUCCESS,sourceCodeAction:H.f.SOURCE_CODE_ACTION.GITLAB_SYNC,generatorVersion:be==null?void 0:be.version})),Jt(de.g.DOWNLOAD_CODE_COMPLETED,h(u({},Qt),{sourceCodeAction:H.f.SOURCE_CODE_ACTION.GITLAB_SYNC,generatorVersion:be==null?void 0:be.version}))}).catch(et=>{et&&la(et),B(),Xt(H.g.SOURCE_CODE,h(u({},Qt),{executionStatus:H.f.EXECUTION_STATUS.FAILED,sourceCodeAction:H.f.SOURCE_CODE_ACTION.GITLAB_SYNC,generatorVersion:be==null?void 0:be.version,reason:et}))}).finally(pt)}}},Ta=()=>{zt(),Object(b.h)(_t).then(()=>{B(),kt()}).catch(ke=>{la(ke),B()}).finally(Ut)};return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"gap-3 grid grid-cols-1"},i.a.createElement(C.H,{variant:"dhi_sub2",className:"sm:font-bold"},"Sync with:"),Vt&&i.a.createElement(v.a,{closeModal:kt,projectId:_t,onSubmit:B}),!Vt&&((r==null?void 0:r.gitRepoDetails)&&((mt=U==null?void 0:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_UI_BUILDER_SERVICE_URL:"https://appuibuilder.dhiwise.com",REACT_APP_WORKFLOW_ADMIN_SERVICE_URL:"https://workflowadminback.dhiwise.com/admin",REACT_APP_IP_FETCH_KEY:"986b19494abbdc2bbec1ee674ef1b8b6",REACT_APP_WORKFLOW_CODEGEN_SERVICE_URL:"https://dhiwiseworkflow.dhiwise.com",REACT_APP_GENERATE_SERVICE_URL:"https://appproject.dhiwise.com",REACT_APP_MIXPANEL_KEY:"c8445e3f39e47d05adfed8ed9486e61b",REACT_APP_ENTERPRISE_PLAN_ID:"Enterprise-v0",REACT_APP_FLAGSMITH_ENVIRONMENT_ID:"ct4EJaHEFzkbpDKgu3e42A",REACT_APP_ALLOW_GIT_INTEGRATION:"true",REACT_APP_CODE_FORMAT_SERVICE_URL:"https://appcodeformat.dhiwise.com",REACT_APP_PROJECT_SERVICE_URL:"https://appproject.dhiwise.com",REACT_APP_LINKEDIN_ID:"5703129",REACT_APP_CANNY_TOKEN:"a1cbb58b-b9f6-27d0-0b94-cc3e7ff2626d",REACT_APP_MIXPANEL_KEY_TEST_SPACE:"0164924b8746e086a55476f3e9e5b42c",REACT_APP_SUBSCRIPTION_SERVICE:"https://appplanapi.dhiwise.com",REACT_APP_MIXPANEL_KEY_USER_JOURNEY_SMART_EDITOR:"a4891365e9602a8a17843f0db600c9a8",REACT_APP_FREE_FOREVER_PLAN_ID:"Free-Forever-v0",REACT_APP_PRO_PLAN_ID:"Pro-V0",REACT_APP_AMPLITUDE_KEY:"9bc5a0ed19481d9e3a8409669d4ee751",REACT_APP_MIXPANEL_KEY_UI_BUILDER:"0ab88cfae7381a7ab4df1c1a71d413ce",REACT_APP_ENVIRONMENT:"production",REACT_APP_BASIC_PLAN_ID:"Basic-v0",REACT_APP_DOC_ENVIRONMENT:"dhiwise_production",REACT_APP_SENTRY_DNS:"https://7fdd965553ec4368a03d79331cbd7375@o769898.ingest.sentry.io/5795106",REACT_APP_BILLING_PANEL_URL:"https://appbilling.dhiwise.com",REACT_APP_IMAGE_URL:"https://apppublic.dhiwise.com",REACT_APP_WORKFLOW_APIRunner:"https://apirunner.dhiwise.com",REACT_APP_AWS_S3_BUCKET_NAME:"dhws-production",REACT_APP_FLUTTER_PREVIEW_URL:"https://preview.dhiwise.com",REACT_APP_REACT_PREVIEW_URL:"https://reactuibuilder.dhiwise.com",REACT_APP_WORKFLOW_SERVICE_URL:"https://workflows.dhiwise.com/client",REACT_APP_USER_SERVICE_URL:"https://appuser.dhiwise.com",REACT_APP_GTAG_CODE:"GTM-KRTHKD8",REACT_APP_FIGMA_CLIENT_ID:"ge7ZlfDvcrEn5BD04Dk6I4"}))==null?void 0:mt.REACT_APP_ALLOW_GIT_INTEGRATION)==="true"?i.a.createElement("div",{className:"bg-surface2 p-5 rounded-3"},(r==null?void 0:r.gitConfiguredType)===he.a.GIT_HUB?i.a.createElement("div",{className:"flex items-center"},i.a.createElement("div",{className:"w-10 h-10 bg-surface3 p-1 rounded-full mr-2.5"},i.a.createElement("img",{src:ie.a,alt:"GitHub"})),i.a.createElement(C.H,{variant:"dhi_sub2"},"GitHub")):i.a.createElement("div",{className:"flex items-center"},i.a.createElement("div",{className:"w-10 h-10 bg-surface3 p-1 rounded-full mr-2.5"},i.a.createElement("img",{src:ce.a,className:"w-6 h-full object-contain m-auto",alt:"GitLab"})),i.a.createElement(C.H,{variant:"dhi_sub2"},"GitLab")),i.a.createElement("div",{className:"mt-4"},i.a.createElement("div",{className:"flex items-center"},i.a.createElement("div",{className:"text-b1 text-medium uppercase"},"Branch name:"),i.a.createElement(C.Q,{titleClass:"text-sub3 text-high ml-1",smallTitle:`${(r==null?void 0:r.gitConfiguredType)===he.a.GIT_HUB?(ht=r==null?void 0:r.gitRepoDetails)==null?void 0:ht.full_name:(Me=r==null?void 0:r.gitRepoDetails)==null?void 0:Me.path_with_namespace}`})),i.a.createElement("div",{className:"flex items-center mt-1.5"},i.a.createElement("div",{className:"text-b1 text-medium uppercase"},"Repo URL:"),i.a.createElement(C.K,{className:"truncate text-sub3 text-dhiPrimary-400 ml-1",onClick:()=>{var ke,Wt;return window.open((r==null?void 0:r.gitConfiguredType)===he.a.GIT_HUB?(ke=r==null?void 0:r.gitRepoDetails)==null?void 0:ke.html_url:(Wt=r==null?void 0:r.gitRepoDetails)==null?void 0:Wt.http_url_to_repo,"_blank")}},(r==null?void 0:r.gitConfiguredType)===he.a.GIT_HUB?(Se=r==null?void 0:r.gitRepoDetails)==null?void 0:Se.html_url:(Ye=r==null?void 0:r.gitRepoDetails)==null?void 0:Ye.http_url_to_repo)),((ye=r==null?void 0:r.gitSyncLog)==null?void 0:ye.createdAt)&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"flex items-center mt-1.5"},i.a.createElement("div",{className:"text-b1 text-medium uppercase"},"Date:"),i.a.createElement("div",{className:"text-sub3 text-high ml-1"},c()((Ct=r==null?void 0:r.gitSyncLog)==null?void 0:Ct.createdAt).format("ll"))),i.a.createElement("div",{className:"flex items-center mt-1.5"},i.a.createElement("div",{className:"text-b1 text-medium uppercase"},"Time:"),i.a.createElement("div",{className:"text-sub3 text-high ml-1"},c()((Pt=r==null?void 0:r.gitSyncLog)==null?void 0:Pt.createdAt).format("LT")))),i.a.createElement("div",{className:"grid grid-cols-2 gap-5 mt-2.5"},!((De=r==null?void 0:r.gitSyncLog)!=null&&De.createdAt)&&(qe==null?void 0:qe.VIEW)&&i.a.createElement(C.i,{variant:"outline",onClick:()=>{Bt(!0),V(),Zt()},disabled:Re},"Change repository"),(qe==null?void 0:qe.UPDATE)&&i.a.createElement(C.i,{variant:"secondary",color:"success",onClick:Ht,loading:Re,disabled:Re},"Commit")))):!(r!=null&&r.isGitConfigured)&&((d=U==null?void 0:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_UI_BUILDER_SERVICE_URL:"https://appuibuilder.dhiwise.com",REACT_APP_WORKFLOW_ADMIN_SERVICE_URL:"https://workflowadminback.dhiwise.com/admin",REACT_APP_IP_FETCH_KEY:"986b19494abbdc2bbec1ee674ef1b8b6",REACT_APP_WORKFLOW_CODEGEN_SERVICE_URL:"https://dhiwiseworkflow.dhiwise.com",REACT_APP_GENERATE_SERVICE_URL:"https://appproject.dhiwise.com",REACT_APP_MIXPANEL_KEY:"c8445e3f39e47d05adfed8ed9486e61b",REACT_APP_ENTERPRISE_PLAN_ID:"Enterprise-v0",REACT_APP_FLAGSMITH_ENVIRONMENT_ID:"ct4EJaHEFzkbpDKgu3e42A",REACT_APP_ALLOW_GIT_INTEGRATION:"true",REACT_APP_CODE_FORMAT_SERVICE_URL:"https://appcodeformat.dhiwise.com",REACT_APP_PROJECT_SERVICE_URL:"https://appproject.dhiwise.com",REACT_APP_LINKEDIN_ID:"5703129",REACT_APP_CANNY_TOKEN:"a1cbb58b-b9f6-27d0-0b94-cc3e7ff2626d",REACT_APP_MIXPANEL_KEY_TEST_SPACE:"0164924b8746e086a55476f3e9e5b42c",REACT_APP_SUBSCRIPTION_SERVICE:"https://appplanapi.dhiwise.com",REACT_APP_MIXPANEL_KEY_USER_JOURNEY_SMART_EDITOR:"a4891365e9602a8a17843f0db600c9a8",REACT_APP_FREE_FOREVER_PLAN_ID:"Free-Forever-v0",REACT_APP_PRO_PLAN_ID:"Pro-V0",REACT_APP_AMPLITUDE_KEY:"9bc5a0ed19481d9e3a8409669d4ee751",REACT_APP_MIXPANEL_KEY_UI_BUILDER:"0ab88cfae7381a7ab4df1c1a71d413ce",REACT_APP_ENVIRONMENT:"production",REACT_APP_BASIC_PLAN_ID:"Basic-v0",REACT_APP_DOC_ENVIRONMENT:"dhiwise_production",REACT_APP_SENTRY_DNS:"https://7fdd965553ec4368a03d79331cbd7375@o769898.ingest.sentry.io/5795106",REACT_APP_BILLING_PANEL_URL:"https://appbilling.dhiwise.com",REACT_APP_IMAGE_URL:"https://apppublic.dhiwise.com",REACT_APP_WORKFLOW_APIRunner:"https://apirunner.dhiwise.com",REACT_APP_AWS_S3_BUCKET_NAME:"dhws-production",REACT_APP_FLUTTER_PREVIEW_URL:"https://preview.dhiwise.com",REACT_APP_REACT_PREVIEW_URL:"https://reactuibuilder.dhiwise.com",REACT_APP_WORKFLOW_SERVICE_URL:"https://workflows.dhiwise.com/client",REACT_APP_USER_SERVICE_URL:"https://appuser.dhiwise.com",REACT_APP_GTAG_CODE:"GTM-KRTHKD8",REACT_APP_FIGMA_CLIENT_ID:"ge7ZlfDvcrEn5BD04Dk6I4"}))==null?void 0:d.REACT_APP_ALLOW_GIT_INTEGRATION)==="true"?i.a.createElement("div",{className:""},i.a.createElement("div",{className:"flex gap-3 mb-3"},i.a.createElement(C.j,{className:"px-10 py-3",icon:ie.a,imgClassName:"sm:w-10 sm:h-10",variant:"surface1",onClick:oa},i.a.createElement(C.H,{variant:"dhi_sub4"},"GitHub")),i.a.createElement(C.j,{className:"px-10 py-3",icon:ce.a,imgClassName:"sm:w-10 sm:h-10",variant:"surface1",onClick:Aa},i.a.createElement(C.H,{variant:"dhi_sub4"},"GitLab"))),i.a.createElement(Te.a,null)):(qe==null?void 0:qe.VIEW)&&((Ve=U==null?void 0:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_UI_BUILDER_SERVICE_URL:"https://appuibuilder.dhiwise.com",REACT_APP_WORKFLOW_ADMIN_SERVICE_URL:"https://workflowadminback.dhiwise.com/admin",REACT_APP_IP_FETCH_KEY:"986b19494abbdc2bbec1ee674ef1b8b6",REACT_APP_WORKFLOW_CODEGEN_SERVICE_URL:"https://dhiwiseworkflow.dhiwise.com",REACT_APP_GENERATE_SERVICE_URL:"https://appproject.dhiwise.com",REACT_APP_MIXPANEL_KEY:"c8445e3f39e47d05adfed8ed9486e61b",REACT_APP_ENTERPRISE_PLAN_ID:"Enterprise-v0",REACT_APP_FLAGSMITH_ENVIRONMENT_ID:"ct4EJaHEFzkbpDKgu3e42A",REACT_APP_ALLOW_GIT_INTEGRATION:"true",REACT_APP_CODE_FORMAT_SERVICE_URL:"https://appcodeformat.dhiwise.com",REACT_APP_PROJECT_SERVICE_URL:"https://appproject.dhiwise.com",REACT_APP_LINKEDIN_ID:"5703129",REACT_APP_CANNY_TOKEN:"a1cbb58b-b9f6-27d0-0b94-cc3e7ff2626d",REACT_APP_MIXPANEL_KEY_TEST_SPACE:"0164924b8746e086a55476f3e9e5b42c",REACT_APP_SUBSCRIPTION_SERVICE:"https://appplanapi.dhiwise.com",REACT_APP_MIXPANEL_KEY_USER_JOURNEY_SMART_EDITOR:"a4891365e9602a8a17843f0db600c9a8",REACT_APP_FREE_FOREVER_PLAN_ID:"Free-Forever-v0",REACT_APP_PRO_PLAN_ID:"Pro-V0",REACT_APP_AMPLITUDE_KEY:"9bc5a0ed19481d9e3a8409669d4ee751",REACT_APP_MIXPANEL_KEY_UI_BUILDER:"0ab88cfae7381a7ab4df1c1a71d413ce",REACT_APP_ENVIRONMENT:"production",REACT_APP_BASIC_PLAN_ID:"Basic-v0",REACT_APP_DOC_ENVIRONMENT:"dhiwise_production",REACT_APP_SENTRY_DNS:"https://7fdd965553ec4368a03d79331cbd7375@o769898.ingest.sentry.io/5795106",REACT_APP_BILLING_PANEL_URL:"https://appbilling.dhiwise.com",REACT_APP_IMAGE_URL:"https://apppublic.dhiwise.com",REACT_APP_WORKFLOW_APIRunner:"https://apirunner.dhiwise.com",REACT_APP_AWS_S3_BUCKET_NAME:"dhws-production",REACT_APP_FLUTTER_PREVIEW_URL:"https://preview.dhiwise.com",REACT_APP_REACT_PREVIEW_URL:"https://reactuibuilder.dhiwise.com",REACT_APP_WORKFLOW_SERVICE_URL:"https://workflows.dhiwise.com/client",REACT_APP_USER_SERVICE_URL:"https://appuser.dhiwise.com",REACT_APP_GTAG_CODE:"GTM-KRTHKD8",REACT_APP_FIGMA_CLIENT_ID:"ge7ZlfDvcrEn5BD04Dk6I4"}))==null?void 0:Ve.REACT_APP_ALLOW_GIT_INTEGRATION)==="true"&&i.a.createElement("div",{className:"bg-surface2 p-5 rounded-3"},(r==null?void 0:r.gitConfiguredType)===he.a.GIT_HUB?i.a.createElement("div",{className:"flex items-center"},i.a.createElement("div",{className:"w-10 h-10 bg-surface3 p-1 rounded-full mr-2.5"},i.a.createElement("img",{src:ie.a,alt:"GitHub"})),i.a.createElement(C.H,{variant:"dhi_sub2"},"GitHub")):i.a.createElement("div",{className:"flex items-center"},i.a.createElement("div",{className:"w-10 h-10 bg-surface3 p-1 rounded-full mr-2.5"},i.a.createElement("img",{src:ce.a,className:"w-6 h-full object-contain m-auto",alt:"GitLab"})),i.a.createElement(C.H,{variant:"dhi_sub2"},"GitLab")),i.a.createElement("div",{className:"mt-3"},(r==null?void 0:r.gitConfiguredType)===he.a.GIT_SELF_MANAGE&&!(r!=null&&r.isWhitelisted)?i.a.createElement(i.a.Fragment,null,i.a.createElement(C.Q,{smallTitle:(r==null?void 0:r.gitConfiguredType)===he.a.GIT_SELF_MANAGE&&!(r!=null&&r.isWhitelisted)?"Please whitelist our IP for further process":""}),i.a.createElement("div",{className:"mt-5"},i.a.createElement(C.i,{onClick:Ta,loading:Yt,variant:"secondary",className:"w-full",size:"medium",shape:"square"},"Whitelist"))):i.a.createElement(i.a.Fragment,null,i.a.createElement(C.w,null,`Synced ${(r==null?void 0:r.gitConfiguredType)===he.a.GIT_HUB?"GitHub":"GitLab"}, Now you can select repository`),i.a.createElement("div",{className:"mt-5"},i.a.createElement(C.i,{onClick:Zt,variant:"secondary",className:"w-full"},"Select Git repository"))))))),Nt&&i.a.createElement(R.a,{isOpen:Nt,onClose:Oa,onDrawerClose:Oa,gitRepoDetails:r==null?void 0:r.gitRepoDetails,gitType:r==null?void 0:r.gitConfiguredType,addRepoUrl:r==null?void 0:r.domainUrl,isChangeRepo:$t,isSecondaryBuild:J,secondaryAppData:A}),i.a.createElement(C.o,{isOpen:Ot,handleSubmit:Pa,title:"",description:"Suspicious email found. You can not perform this action.",okText:"Ok",color:"default"}),i.a.createElement(C.B,{isOpen:na,closeModal:()=>{bt(!1)}}))}}).call(this,t(55))},3758:function(st,K,t){"use strict";t.d(K,"a",function(){return Be});var U=t(0),e=t.n(U),i=t(159),fe=t(2351),c=t(72),w=t(3),o=t(8),ie=t(2313),ce=t(29),de=t(2318),pe=t(47),Y=t(69),b=Object.defineProperty,Ae=Object.defineProperties,Te=Object.getOwnPropertyDescriptors,C=Object.getOwnPropertySymbols,he=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable,Ee=(D,L,R)=>L in D?b(D,L,{enumerable:!0,configurable:!0,writable:!0,value:R}):D[L]=R,E=(D,L)=>{for(var R in L||(L={}))he.call(L,R)&&Ee(D,R,L[R]);if(C)for(var R of C(L))z.call(L,R)&&Ee(D,R,L[R]);return D},j=(D,L)=>Ae(D,Te(L));const H={gitPrivateToken:{required:"Personal access token is required.",pattern:"Personal access token can be alphanumeric and only allows - and _ special character"},domainUrl:{required:"Domain url is required."},userName:{required:"User name is required."},privateToken:{required:"Personal access token is required.",pattern:"Personal access token can be alphanumeric and only allows - and _ special character"}},Be=({closeModal:D,projectId:L,onSubmit:R})=>{const{addErrorToast:v,addSuccessToast:re}=Object(ce.i)(),[X,te,ne]=Object(pe.a)(!1),[le,s]=e.a.useState("1"),[ot,ue]=e.a.useState(!1),{handleSubmit:u,errors:h,control:g}=Object(i.e)({mode:"onChange"}),J=A=>{X||(te(),le==="1"&&Object(ie.a)(E({projectId:L,type:de.a.GIT_LAB},A)).then(B=>{var F;(F=B==null?void 0:B.data)!=null&&F.isEmailUnVerified?ue(!0):(re(B==null?void 0:B.message),R(),D())}).catch(B=>{v(B)}).finally(ne),le==="2"&&Object(ie.g)(E({projectId:L,type:de.a.GIT_SELF_MANAGE},A)).then(B=>{var F;(F=B==null?void 0:B.data)!=null&&F.isEmailUnVerified?ue(!0):(re(B==null?void 0:B.message),R(),D())}).catch(B=>{v(B)}).finally(ne))},r=()=>{Object(Y.z)().then(A=>{re(A==null?void 0:A.message),ue(!1)}).catch(v)};return e.a.createElement(e.a.Fragment,null,e.a.createElement("div",{className:"bg-surface2 p-5 rounded-3"},e.a.createElement("div",{className:"flex items-center"},e.a.createElement("div",{className:"w-10 h-10 bg-surface3 p-1 rounded-full mr-2.5"},e.a.createElement("img",{src:fe.a,className:"w-6 h-full object-contain m-auto",alt:"GitLab"})),e.a.createElement(o.H,{variant:"dhi_sub2"},"GitLab")),e.a.createElement(o.fb,{selectedValue:le,className:"flex gap-5 mt-3",onChange:A=>s(A)},e.a.createElement(o.eb,{value:"1"},e.a.createElement("div",{className:"gap-1 flex items-center"},"GitLab SaaS",e.a.createElement("div",{"data-tip":!0,"data-for":"gitlab-saas"},e.a.createElement("div",{className:"w-4 h-4"},e.a.createElement(w.c.Info,null)),e.a.createElement(c.a,{id:"gitlab-saas",t:!0,ype:"dark"},e.a.createElement("div",{className:"w-48"},"Select this option if you are using the GitLab service hosted on GitLab's cloud servers."))))),e.a.createElement(o.eb,{value:"2"},e.a.createElement("div",{className:"gap-1 flex items-center"},"Self-Managed",e.a.createElement("div",{"data-tip":!0,"data-for":"self-manage"},e.a.createElement("div",{className:"w-4 h-4"},e.a.createElement(w.c.Info,null)),e.a.createElement(c.a,{id:"self-manage",t:!0,ype:"dark"},e.a.createElement("div",{className:"w-48"},"Select this option if you have installed GitLab on your own infrastructure.")))))),e.a.createElement("div",{className:"grid gap-5 mt-5"},le==="1"&&e.a.createElement("form",{onSubmit:u(J)},e.a.createElement(i.a,{name:"gitPrivateToken",control:g,rules:{required:!0,pattern:/^[a-zA-Z0-9_-]+$/},defaultValue:"",render:A=>e.a.createElement(o.I.Text,j(E({},A),{placeholder:"Enter personal access token",label:"Personal access token",error:h.gitPrivateToken?H.gitPrivateToken[h.gitPrivateToken.type]:""}))}),e.a.createElement("div",{className:"mt-3"},e.a.createElement(o.i,{variant:"secondary",className:"w-full",type:"submit",loading:X},"Submit"))),le==="2"&&e.a.createElement("form",{onSubmit:u(J)},e.a.createElement(i.a,{name:"domainUrl",control:g,rules:{required:!0},defaultValue:"",render:A=>e.a.createElement(o.I.Text,j(E({},A),{placeholder:"Enter domain url",label:"Domain url",error:h.domainUrl?H.domainUrl[h.domainUrl.type]:""}))}),e.a.createElement(i.a,{name:"userName",control:g,rules:{required:!0},defaultValue:"",render:A=>e.a.createElement(o.I.Text,j(E({},A),{placeholder:"Enter username",label:"Username",error:h.userName?H.userName[h.userName.type]:""}))}),e.a.createElement(i.a,{name:"privateToken",control:g,rules:{required:!0,pattern:/^[a-zA-Z0-9_-]+$/},defaultValue:"",render:A=>e.a.createElement(o.I.Text,j(E({},A),{placeholder:"Enter personal access token",label:"Personal access token",error:h.privateToken?H.privateToken[h.privateToken.type]:""}))}),e.a.createElement("div",{className:"mt-3"},e.a.createElement(o.i,{variant:"secondary",className:"w-full",type:"submit",loading:X},"Submit"))))),e.a.createElement(o.o,{size:"xxl:w-4/12 w-5/12",title:"Verify your email",isOpen:ot,color:"default",closeModal:()=>{ue(!1)},handleSubmit:r,shortDesc:e.a.createElement(e.a.Fragment,null,"Check promotion or spam folder in case you didn't get email in your inbox. Write to us at"," ",e.a.createElement(o.K,{link:"mailto:help@dhiwise.com",target:"_blank"},"help@dhiwise.com")," ","if you didn't receive an email or facing any issue."),description:"Woohoo! Great to see you here and you're just a step away to get all of it. Please verify your email address to perform this action.",okText:"Resend email verification link"}))}},4052:function(st,K,t){"use strict";t.r(K),t.d(K,"default",function(){return nl});var U=t(0),e=t.n(U),i=t(2503),fe=t(26),c=t(5),w=t(419),o=t(231),ie=t(45),ce=t(74),de=t.n(ce),pe=t(34),Y=t(109),b=t(85),Ae=t(2238),Te=t(172),C=t(3),he=t(2244),z=t(346),Ee=t(592),E=t(2),j=t(31);const H=(a,n)=>{let l="";return a===E.c.androidFigma?l="app/src/main/res/layout":a===E.c.flutter?l="lib/presentation":a===E.c.IOS&&(l=`${n}/Views`),l},Be={icon:e.a.createElement("div",{className:"w-2.5"},e.a.createElement(C.c.RightArrow,null))},D=({setVisitedFiles:a=()=>{}})=>{var n,l,P;const{currentApplicationCode:I,currentProjectDetail:p,currentApplicationId:S,projectStructure:O}=Object(j.d)(),_=(n=p==null?void 0:p.applicationList)==null?void 0:n.find(se=>se._id===S),{resetAllData:m}=Object(Ee.c)(),Pe=new URLSearchParams(window.location.search).get("screenExportBuild"),$=H(I,_==null?void 0:_.name);let Ce="",N="";const k=[],Q=se=>{var me;return Pe&&[E.c.androidFigma,E.c.IOS,E.c.flutter].includes(I)&&(se==null||se.forEach(T=>{var ge,Ie,q,oe,ee,_e,Ue,We,Ge,nt,Oe,Ne;if($!=null&&$.includes(T==null?void 0:T.path)&&(N=N?`${N}/${T==null?void 0:T.path}`:`${T==null?void 0:T.path}`,k.push(N),!Object(c.isEmpty)(T==null?void 0:T.child)&&((ge=T==null?void 0:T.child)==null?void 0:ge.some(W=>$==null?void 0:$.includes(W==null?void 0:W.path)))&&(N=`${N}/${(q=(Ie=T==null?void 0:T.child)==null?void 0:Ie.find(W=>$==null?void 0:$.includes(W==null?void 0:W.path)))==null?void 0:q.path}`,k.push(N),Q((ee=(oe=T==null?void 0:T.child)==null?void 0:oe.find(W=>$==null?void 0:$.includes(W==null?void 0:W.path)))==null?void 0:ee.child))),I===E.c.androidFigma&&$===(T==null?void 0:T.path)&&(_e=T==null?void 0:T.child)!=null&&_e.every(W=>(W==null?void 0:W.type)===1)&&(N=`${N}/${(We=(Ue=T==null?void 0:T.child)==null?void 0:Ue[0])==null?void 0:We.path}`,Ce=(nt=(Ge=T==null?void 0:T.child)==null?void 0:Ge[0])==null?void 0:nt.path),[E.c.IOS,E.c.flutter].includes(I)&&(Oe=T==null?void 0:T.path)!=null&&Oe.startsWith($)&&!Object(c.isEmpty)(T==null?void 0:T.child)&&(T==null?void 0:T.type)===2&&!Ce){N=`${N}/${T==null?void 0:T.path}`,k.push(N);const W=(Ne=T==null?void 0:T.child)==null?void 0:Ne.find(tt=>{var Ke;return((Ke=tt==null?void 0:tt.path)==null?void 0:Ke.includes(T==null?void 0:T.name))&&(tt==null?void 0:tt.type)===1});W&&(N=`${N}/${W==null?void 0:W.path}`,k.push(N),Ce=W==null?void 0:W.path)}})),{initialSelectedFilePath:Ce||(Object(c.isArray)(O)&&((me=O==null?void 0:O.findIndex)==null?void 0:me.call(O,T=>(T==null?void 0:T.path)==="/README.md"))>=0?"/README.md":""),initialActiveKey:Ce?N:"/README.md",initialOpenNodes:Ce?k:[]}};return e.a.createElement(Te.c,{className:`w-full project-sidebar ${he.a.wrap}`},e.a.createElement(Te.a,{className:"p-0"},e.a.createElement(Te.d,{className:"relative",defaultOpen:!0,title:(P=(l=_==null?void 0:_.displayName)!=null?l:_==null?void 0:_.name)!=null?P:"",icon:Be.icon,onClick:se=>{se.stopPropagation(),m()}},e.a.createElement(z.a,{projectStructure:O,defaultSelectedOptions:Q(O),setVisitedFiles:a}))))};var L=t(580),R=t.n(L),v=t(8),re=t(584),X=t(193),te=t(29),ne=t(81),le=t(230),s=t(6),ot=t(558),u=({rows:a})=>e.a.createElement(e.a.Fragment,null,Array(a||8).fill("").map(()=>e.a.createElement(ot.a,{speed:2,width:"100%",height:"auto",backgroundColor:"var(--dhi-surface2)",foregroundColor:"var(--dhi-surfacee2)"},e.a.createElement("rect",{x:"10",y:"8",rx:"3",ry:"3",width:"40%",height:"6"}),e.a.createElement("rect",{x:"10",y:"30",rx:"3",ry:"3",width:"60%",height:"6"}),e.a.createElement("rect",{x:"10",y:"50",rx:"3",ry:"3",width:"30%",height:"6"}),e.a.createElement("rect",{x:"10",y:"70",rx:"3",ry:"3",width:"20%",height:"6"}),e.a.createElement("rect",{x:"10",y:"90",rx:"3",ry:"3",width:"10%",height:"6"}),e.a.createElement("rect",{x:"10",y:"110",rx:"3",ry:"3",width:"0%",height:"6"})))),h=t(110),g=t(2250),J=Object.defineProperty,r=Object.defineProperties,A=Object.getOwnPropertyDescriptors,B=Object.getOwnPropertySymbols,F=Object.prototype.hasOwnProperty,ae=Object.prototype.propertyIsEnumerable,V=(a,n,l)=>n in a?J(a,n,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[n]=l,Z=(a,n)=>{for(var l in n||(n={}))F.call(n,l)&&V(a,l,n[l]);if(B)for(var l of B(n))ae.call(n,l)&&V(a,l,n[l]);return a},Le=(a,n)=>r(a,A(n));const Je={md:"markdown",js:"javascript",jsx:"javascript",kt:"kotlin",html:"html",xml:"xml",dockerfile:"dockerfile",php:"php",json:"json",graphql:"graphql",java:"java",less:"less",swift:"swift",dart:"dart",ts:"typescript",tsx:"typescript",css:"css"},gt=({fileIcon:a,title:n})=>e.a.createElement("div",{className:"flex items-center"},e.a.createElement("div",{className:"w-3 h-3 mr-1"},a),n,e.a.createElement("div",{className:"w-3 h-3 ml-1"},e.a.createElement(C.c.Close,null))),mt=e.a.forwardRef(({width:a})=>{var n,l,P,I,p,S,O,_;const{userData:m}=Object(te.e)(),[y,Pe,$]=Object(te.a)(!1),[Ce,N,k]=Object(te.a)(!1),[Q,se,me]=Object(te.a)(!1),[T,ge,Ie]=Object(te.a)(!1),{currentApplicationCode:q,currentProjectDetail:oe,currentApplicationId:ee}=Object(j.d)(),_e=(n=oe==null?void 0:oe.applicationList)==null?void 0:n.find(ve=>(ve==null?void 0:ve._id)===ee),Ue=[E.c.androidFigma,E.c.flutter,E.c.IOS].includes(q),We=!Object(c.isEmpty)(q)&&Object(b.b)(q),{mixPanelTrack:Ge}=Object(le.a)(),{webengageTrackEvent:nt}=Object(Y.a)(),{selectedCodeFilePath:Oe,selectedCode:Ne,selectedFilePath:W,shouldTabRenders:tt,setTabRenders:Ke,selectedFileType:Gt,isCodeFileLoading:ma}=Object(Ee.c)(),je=Oe?Oe==null?void 0:Oe.split("/").filter(ve=>ve&&ve):[],f=Object(c.last)((l=Object(c.last)(je))==null?void 0:l.split("."));Oe===W&&Ke(!1),e.a.useEffect(()=>($(),k(),()=>{$(),k()}),[Ne]);const Fe=({style:ve})=>e.a.cloneElement(e.a.createElement(re.a,null),{readOnly:"true",width:a,defaultValue:"",value:Ne,language:Je[f],style:{style:ve}}),lt=()=>{Pe(),R()(Ne);const ve=setTimeout(()=>$(),2e3),at="&isClipboard=true";return Object(h.m)(ee,at).then(()=>{}).catch(()=>{}),()=>{clearTimeout(ve)}},xe=ve=>{var at;const sa=new Blob([ve],{type:"text/html"}),Et=Object.keys(X.c).includes(f)?`data:application/octet-stream;base64,${ve}`:window.URL.createObjectURL(sa),_a=document.createElement("a");_a.href=Et,_a.download=Object(c.last)(je),document.body.appendChild(_a),_a.click(),(at=_a.parentNode)==null||at.removeChild(_a);const ja="&isSingleFileDownload=true";Object(h.m)(ee,ja).then(()=>{}).catch(()=>{}),setTimeout(()=>{k()},1e3)},dt=ve=>{const at=Z(Le(Z({applicationId:ee},(Ue||We)&&{screens:1}),{technology:s.f.TECHNOLOGY[q],generatorVersion:_e==null?void 0:_e.version}),ve);Ge(s.g.SOURCE_CODE,at),nt(pe.g.DOWNLOAD_CODE_COMPLETED,at)};return e.a.createElement(e.a.Fragment,null,e.a.createElement("div",{className:"relative flex justify-between items-center"},e.a.createElement(v.g,{className:"overflow-hidden mr-2 pl-2"},e.a.createElement(v.h,{title:(I=(P=_e==null?void 0:_e.displayName)!=null?P:_e==null?void 0:_e.name)!=null?I:"",isRightArrow:!0}),je.map((ve,at)=>e.a.createElement(v.h,{title:ve,isRightArrow:at+1!==je.length}))),g.e&&!je.join("/").match(E.r[q])&&e.a.createElement("div",{className:"flex py-2 pr-1 flex-shrink-0"},Ne&&Gt!==X.a.DEFAULT&&e.a.createElement(e.a.Fragment,null,!Object.keys(X.c).includes(f)&&e.a.createElement(v.i.Icon,{variant:"coolgray",size:"small",shape:"square",className:"",tooltipPosition:"left",tooltip:y?"Copied":`Copy to clipboard ${(p=Object(c.last)(je))!=null&&p.includes("index")?(S=je==null?void 0:je.slice((je==null?void 0:je.length)-2))==null?void 0:S.join("/"):Object(c.last)(je)}`,onClick:()=>{const ve=`${je.join("/")}`;m!=null&&m.isFakeEmail?(ge(),dt({executionStatus:s.f.EXECUTION_STATUS.FAILED,resaon:"Suspicious email found.",sourceCodeAction:s.f.SOURCE_CODE_ACTION.COPY_CLIPBOARD,fileName:ve})):(m==null?void 0:m.status)!==ne.g.VERIFIED?(se(),dt({executionStatus:s.f.EXECUTION_STATUS.FAILED,reason:"Email is not verified.",sourceCodeAction:s.f.SOURCE_CODE_ACTION.COPY_CLIPBOARD,fileName:ve})):(dt({executionStatus:s.f.EXECUTION_STATUS.SUCCESS,sourceCodeAction:s.f.SOURCE_CODE_ACTION.COPY_CLIPBOARD,fileName:ve}),lt())}},y?e.a.createElement(C.c.Check,{color:"var(--color-bg-active)"}):e.a.createElement(C.c.Copy,null)),e.a.createElement(v.i.Icon,{variant:"coolgray",size:"small",shape:"square",className:"ml-2",tooltipPosition:"left",tooltip:`Download ${(O=Object(c.last)(je))!=null&&O.includes("index")?(_=je==null?void 0:je.slice((je==null?void 0:je.length)-2))==null?void 0:_.join("/"):Object(c.last)(je)}`,leftIcon:e.a.createElement(C.c.Download,null),onClick:()=>{const ve=`${je.join("/")}`;m!=null&&m.isFakeEmail?(ge(),dt({executionStatus:s.f.EXECUTION_STATUS.FAILED,resaon:"Suspicious email found.",sourceCodeAction:s.f.SOURCE_CODE_ACTION.SINGLE_FILE,fileName:ve})):(m==null?void 0:m.status)!==ne.g.VERIFIED?(se(),dt({executionStatus:s.f.EXECUTION_STATUS.FAILED,reason:"Email is not verified.",sourceCodeAction:s.f.SOURCE_CODE_ACTION.SINGLE_FILE,fileName:ve})):(dt({executionStatus:s.f.EXECUTION_STATUS.SUCCESS,sourceCodeAction:s.f.SOURCE_CODE_ACTION.SINGLE_FILE,fileName:ve}),N(),xe(Ne))},loading:Ce},e.a.createElement(C.c.Download,null))))),ma?e.a.createElement(u,null):Oe===W&&tt?e.a.createElement(e.a.Suspense,{fallback:e.a.createElement("p",null,"Suspense Loading")},e.a.createElement(Fe,null)):e.a.createElement(e.a.Fragment,null,e.a.createElement(re.a,{imageShow:!!Object.keys(X.c).includes(f),fileType:Gt,imageSource:Object.keys(X.c).includes(f)?`data:image/${X.c[f]};base64, ${Ne}`:!1,readOnly:!0,width:a,defaultValue:"",value:Ne,language:Je[f]})),e.a.createElement(v.o,{isOpen:T,handleSubmit:Ie,title:"",description:"Suspicious email found. You can not perform this action.",okText:"Ok",color:"default"}),e.a.createElement(v.B,{isOpen:Q,closeModal:me}))});var ht=t(2373),Me=t(47),Se=t(11),Ye=t(2645),ye=t(173),Ct=t(54),Pt=t(380);const De={VersionNumberWrap:"",versionNumberLabel:"text-b1 flex items-center cursor-pointer h-full px-4 bg-surface3",VersionNumber:"text-high text-b1 ml-0.5",VersionNumberBackend:"text-dhiPrimary-400 ml-2 text-sm font-bold",VersionInfoLabel:"text-b1 text-high",buildError:"text-b1 text-dhiDanger-400 ml-0.5",VersionInfoBlock:"mr-4 flex flex-wrap items-center",versionInfoBackend:"mb-2 border-b border-gray-90 border-dashed pb-2"};var d=t(30),Ve=t(52),x=t(2346),He=t(2243),_t=t(174);const yt=({buildProjectData:a,versionInfoBlockCSS:n,versionNumberCSS:l})=>{var P,I,p,S,O,_,m,y,Pe,$,Ce,N,k,Q,se,me,T,ge;return e.a.createElement(e.a.Fragment,null,(a==null?void 0:a.tempGeneratedId)&&e.a.createElement(e.a.Fragment,null,((I=(P=a==null?void 0:a.generatedProjectData)==null?void 0:P.versionNumber)==null?void 0:I.toString())&&e.a.createElement("div",{className:`${n} mb-1`},e.a.createElement("span",{className:De.VersionInfoLabel},"Last successful build:"),e.a.createElement("span",{className:l},`v${(S=(p=a==null?void 0:a.generatedProjectData)==null?void 0:p.semanticVersionNumber)!=null?S:"1.0"}.${(O=a==null?void 0:a.generatedProjectData)==null?void 0:O.versionNumber}`))),(a==null?void 0:a.tempGeneratedId)&&((m=(_=a==null?void 0:a.prevGeneratedProjectData)==null?void 0:_.versionNumber)==null?void 0:m.toString())&&e.a.createElement("div",{className:`${n} mb-1`},e.a.createElement("span",{className:De.VersionInfoLabel},"Last build version:"),e.a.createElement("span",{className:l},`v${(Pe=(y=a==null?void 0:a.prevGeneratedProjectData)==null?void 0:y.semanticVersionNumber)!=null?Pe:"1.0"}.${($=a==null?void 0:a.prevGeneratedProjectData)==null?void 0:$.versionNumber}`)),!(a!=null&&a.tempGeneratedId)&&((N=(Ce=a==null?void 0:a.generatedProjectData)==null?void 0:Ce.versionNumber)==null?void 0:N.toString())&&e.a.createElement("div",{className:`${n} mb-1`},e.a.createElement("span",{className:De.VersionInfoLabel},"Last build version:"),e.a.createElement("span",{className:l},`v${(Q=(k=a==null?void 0:a.generatedProjectData)==null?void 0:k.semanticVersionNumber)!=null?Q:"1.0"}.${(se=a==null?void 0:a.generatedProjectData)==null?void 0:se.versionNumber}`)),(a==null?void 0:a.tempGeneratedId)&&e.a.createElement("div",{className:`${n}`},e.a.createElement("span",{className:De.VersionInfoLabel},"Last build status:"),e.a.createElement("span",{className:De.buildError},`Failed (v${(T=(me=a==null?void 0:a.prevGeneratedProjectData)==null?void 0:me.semanticVersionNumber)!=null?T:"1.0"}.${(ge=a==null?void 0:a.prevGeneratedProjectData)==null?void 0:ge.versionNumber})`)))},$t=({buildProjectData:a,isBackendApp:n,isReactWebFigma:l,isMobileApplication:P,isStateManagerEnable:I=!1,currentApplicationCode:p="",isSecondaryBuild:S=!1,currentApplicationDetail:O={}})=>{var _,m,y,Pe,$,Ce,N,k,Q,se,me,T,ge,Ie;const q=l||P?De.VersionInfoBlock:De.versionInfoBackend,oe=l||P?De.VersionNumber:De.VersionNumberBackend;return e.a.createElement(e.a.Fragment,null,((m=(_=a==null?void 0:a.generatedProjectData)==null?void 0:_.versionNumber)==null?void 0:m.toString())&&e.a.createElement("div",{className:q},e.a.createElement("span",{className:De.VersionInfoLabel},"Version of displayed code:"),e.a.createElement("span",{className:oe},`v${(Pe=(y=a==null?void 0:a.generatedProjectData)==null?void 0:y.semanticVersionNumber)!=null?Pe:"1.0"}.${($=a==null?void 0:a.generatedProjectData)==null?void 0:$.versionNumber}`)),l||P?e.a.createElement(He.a,{containerClassName:`${Pt.a.popoverWrap} mt-2.5 w-96 `,popOverValue:e.a.createElement(yt,{buildProjectData:a,versionInfoBlockCSS:q,versionNumberCSS:oe}),data:e.a.createElement("div",{className:q},e.a.createElement("span",{className:De.VersionInfoLabel},"Application info"),e.a.createElement("div",{className:"w-3.5 h-3.5 ml-1"},e.a.createElement(C.c.UpArrow,null))),onHover:!0,positions:["bottom","left"]}):e.a.createElement(yt,{buildProjectData:a,versionInfoBlockCSS:q,versionNumberCSS:oe}),n&&(a==null?void 0:a.generatedProjectArchitecture)&&e.a.createElement("div",{className:`${q} border-none sm:pb-0`},e.a.createElement("span",{className:De.VersionInfoLabel},"Code architecture:"),e.a.createElement("span",{className:oe},d.d[a==null?void 0:a.generatedProjectArchitecture])),P&&!S&&(I?e.a.createElement("div",{className:q},e.a.createElement("span",{className:De.VersionInfoLabel},"Code type:"),e.a.createElement("span",{className:oe},(k=(N=(Ce=Object.values(d.g))==null?void 0:Ce.find(ee=>{var _e;return(ee==null?void 0:ee.id)===((_e=a==null?void 0:a.generatedProjectData)==null?void 0:_e.stateManager)}))==null?void 0:N.name)!=null?k:d.g.WITHOUT_STATE_MANAGEMENT.name)):e.a.createElement("div",{className:q},e.a.createElement("span",{className:De.VersionInfoLabel},"Code type:"),e.a.createElement("span",{className:oe},((Q=a==null?void 0:a.generatedProjectData)==null?void 0:Q.screenExportBuild)===d.j.UI?Ve.m[p]:Ve.k[p]))),l&&e.a.createElement(e.a.Fragment,null,p===E.c.figmaReact&&e.a.createElement("div",{className:q},e.a.createElement("span",{className:De.VersionInfoLabel},"Framework config:"),e.a.createElement("span",{className:oe},(me=(se=Object.values(x.a))==null?void 0:se.find(ee=>{var _e;return(ee==null?void 0:ee.apiKey)===((_e=a==null?void 0:a.generatedProjectData)==null?void 0:_e.buildType)}))==null?void 0:me.title)),p!==E.c.html&&e.a.createElement("div",{className:q},e.a.createElement("span",{className:De.VersionInfoLabel},"Language:"),e.a.createElement("span",{className:oe},(Ie=(ge=(T=Object.values(E.C))==null?void 0:T.find(ee=>(ee==null?void 0:ee.id)===(O==null?void 0:O.languageType)))==null?void 0:ge.name)!=null?Ie:E.C.JAVASCRIPT.name))))},Bt=()=>{var a;const{buildProjectData:n,currentApplicationCode:l,currentProjectDetail:P,currentApplicationId:I}=Object(j.d)(),{getStateManagerStatus:p}=Object(_t.a)(),[S,O]=e.a.useState(!1),_=(a=P==null?void 0:P.applicationList)==null?void 0:a.find(Q=>Q._id===I),m=p(),y=!Object(c.isEmpty)(l)&&[E.c.nodeExpress,E.c.laravel].includes(l),Pe=!Object(c.isEmpty)(l)&&Object(b.b)(l),$=!Object(c.isEmpty)(l)&&[E.c.androidFigma,E.c.flutter,E.c.IOS].includes(l),N=new URLSearchParams(window.location.search).get("isSecondaryBuild"),k=()=>{O(Q=>!Q)};return e.a.createElement(e.a.Fragment,null,Pe||$?e.a.createElement("div",{className:"flex items-center"},e.a.createElement($t,{buildProjectData:n,isBackendApp:y,isReactWebFigma:Pe,isMobileApplication:$,isStateManagerEnable:m,currentApplicationCode:l,isSecondaryBuild:N,currentApplicationDetail:_})):e.a.createElement(He.a,{popOverValue:[e.a.createElement("div",null,e.a.createElement($t,{buildProjectData:n,isBackendApp:y}))],isOpen:S,onOuterAction:k,refreshIntervalMs:10,enterExitTransitionDurationMs:10,tipSize:10,className:"popupCustom h-full",data:e.a.createElement("div",{className:De.versionNumberLabel,onClick:k},"Application info",e.a.createElement("div",{className:"w-3.5 h-3.5 ml-2"},e.a.createElement(C.c.UpArrow,null)))}))};var na=t(574),bt=t(146),Ze=t.n(bt),be=t(620),vt=t(2738),it=t(421);const Vt={loop:!0,autoplay:!0,animationData:be,rendererSettings:{preserveAspectRatio:"xMidYMid slice"}},ut=()=>{var a,n,l,P,I;const[p,S]=e.a.useState(!1),{currentProjectDetail:O,currentApplicationId:_}=Object(j.d)(),m=(a=O==null?void 0:O.applicationList)==null?void 0:a.find($=>$._id===_),y=(l=(n=m==null?void 0:m.output)==null?void 0:n.sandbox)==null?void 0:l.domainName,Pe=[it.b.START_SERVER,it.b.RESTART_SERVER,it.b.STOP_SERVER].includes((I=(P=m==null?void 0:m.output)==null?void 0:P.production)==null?void 0:I.stateStatus);return e.a.createElement("div",{className:"mr-2"},e.a.createElement(He.a,{dropdownWrapClass:"w-96",place:"above",data:e.a.createElement("div",{className:"flex"},e.a.createElement(v.i,{variant:"secondary",color:"success",size:"medium",leftIcon:e.a.createElement(C.c.Play,null),shape:"square",wrapClass:"flex items-center"},e.a.createElement("span",{className:""},p?"Preparing ":"Run"),p&&e.a.createElement(Ze.a,{options:Vt,height:20,width:30}),!p&&(y||Pe)&&e.a.createElement("div",{className:"w-4 h-4 ml-2 rounded-full bg-activebg p-1"},e.a.createElement(C.c.Check,null)))),popOverValue:e.a.createElement(e.a.Fragment,null,e.a.createElement(vt.a,{setMainLoader:S}))}))};var kt=t(2639),Re=t(198),$e=t(124),pt=t(539),Nt=t(2526),Ft=t(2287),ft=t(4);const Yt={PROMPT:"prompt",SCREEN:"screen"};function zt(a=0,n){if(Object(c.isNaN)(a))return 0;const P=a/100;return n&&!Object(c.isNaN)(n)?P.toFixed(n):P}function Ut(a=[],n=0,l="stairstep"){var P,I;if(Object(c.isEmpty)(a))return{};const p=a.find(m=>m.price>n);if(!p)return{};const S=(P=p.ending_unit)!=null?P:0,O=(I=p.starting_unit)!=null?I:0,_=p.price?Math.round(zt(p.price)):0;return l==="stairstep"?{price:_,unit:S-O+1,starting_unit:O,ending_unit:S}:l==="tiered"?{price:_,unit:0,starting_unit:O,ending_unit:S}:{}}function Ot(a=[],n="year"){var l;const P=a.find(p=>p.period_unit===n&&p.cf_dhiwise_type===Yt.SCREEN);if(!P)return{};const I=(l=P.tiers)==null?void 0:l.find(p=>p.price===0&&p.ending_unit);return I?{featureType:P.cf_dhiwise_type,ending_unit:I==null?void 0:I.ending_unit,tiers:P.tiers,pricing_model:P.pricing_model,currency_code:P.currency_code}:{}}var Qe=t(3757),Pa=t(587),Xt=t.p+"static/media/android.db495354.svg",Jt=t(619),we=t(21),xt=t(86),qe=t(323),Dt=t(51),la=Object.defineProperty,ga=Object.defineProperties,Ra=Object.getOwnPropertyDescriptors,Zt=Object.getOwnPropertySymbols,Oa=Object.prototype.hasOwnProperty,oa=Object.prototype.propertyIsEnumerable,Aa=(a,n,l)=>n in a?la(a,n,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[n]=l,Ht=(a,n)=>{for(var l in n||(n={}))Oa.call(n,l)&&Aa(a,l,n[l]);if(Zt)for(var l of Zt(n))oa.call(n,l)&&Aa(a,l,n[l]);return a},Ta=(a,n)=>ga(a,Ra(n));const ke=({codeViewMixPanelLog:a=()=>{}})=>{var n,l;const[P,I]=Object(j.b)(),{currentApplicationId:p,currentApplicationCode:S,currentProjectDetail:O}=P,_=(n=O==null?void 0:O.applicationList)==null?void 0:n.find(ee=>ee._id===p),m=(l=_==null?void 0:_.configInput)==null?void 0:l.applicationToken,{userData:y}=Object(te.e)(),{addSuccessToast:Pe,addErrorToast:$}=Object(te.i)(),[Ce,N,k]=Object(te.a)(!1),[Q,se,me]=Object(te.a)(!1),[T,ge,Ie]=Object(te.a)(!1),q=()=>{y!=null&&y.isFakeEmail?se():(y==null?void 0:y.status)!==ne.g.VERIFIED?ge():(R()(m),a(),Pe("Application token copied successfully."))},oe=()=>{y!=null&&y.isFakeEmail?se():(y==null?void 0:y.status)!==ne.g.VERIFIED?ge():(N(),Object(we.b)(we.a.application.vsCodeTokenGeneration,{applicationId:p}).then(ee=>{var _e;k(),Pe(ee.message),I(Object(Dt.f)({currentProject:{applications:(_e=O==null?void 0:O.applicationList)==null?void 0:_e.map(Ue=>{var We;return Ue._id===p?(We=Ta(Ht({},Ue),{configInput:Ta(Ht({},Ue.configInput),{applicationToken:ee.data.applicationToken})}))!=null?We:{}:Ue})}}))}).catch(ee=>{$(ee),k()}))};return e.a.createElement("div",{className:""},e.a.createElement(v.H,{variant:"dhi_sub2",className:"font-semibold"},"Sync the app code in your IDE"),e.a.createElement(v.w,{className:"mt-1.5"},Object(b.b)(S)?"We provide VS Code extension to sync the code. First, install the DhiWise extension in VS Code, copy-paste the token into the extension to sync the code.":`We provide ${S===E.c.flutter?"extensions and plugins":"plugins"} to sync code for ${S===E.c.flutter?"VS Code,":""} Android Studio, & IntelliJ IDEA. First, install the DhiWise plugin in your preferred IDE from the above mentioned list. Then, copy-paste the token into the DhiWise plugin to sync the code.`,e.a.createElement(v.K,{target:"_blank",isDocReview:!0,docDetail:{currentApplicationCode:S,applicationId:p,docName:"Plugin & Extensions"},className:"ml-1 whitespace-nowrap",link:xt.b.PluginsExtensions},"Read docs!")),e.a.createElement("div",{className:"p-4 rounded-3 bg-surface2 mt-4"},e.a.createElement("div",{className:"flex "},e.a.createElement("div",{className:"relative flex-grow"},e.a.createElement(v.I.Text,{disabled:!0,WrapClassName:"flex-grow",desc:"Use this application token while syncing the application in VS code.",size:"medium",label:"Application token",value:m}),e.a.createElement(v.i.Icon,{className:"flex-shrink-0 bg-dhiGray-500 ml-2.5 mt-6 sm:absolute right-1 top-1.5",tooltip:"Copy token",variant:"coolgray",size:"small",onClick:q},e.a.createElement(C.c.Copy,null))),e.a.createElement(v.i.Icon,{className:"flex-shrink-0 ml-2.5 mt-7",tooltip:"Regenerate application token",variant:"coolgray",size:"medium",onClick:oe,loading:Ce},e.a.createElement(C.c.Refresh,null))),e.a.createElement("div",{className:" grid grid-cols-1 gap-2 mt-4"},([E.c.flutter].includes(S)||Object(b.b)(S))&&e.a.createElement("div",{className:"flex items-center rounded-3 cursor-pointer bg-dhiPrimary-50 p-2.5 justify-between w-full",onClick:()=>{window.open(qe.a.VSCODE,"__blank")}},e.a.createElement("div",{className:"flex items-center"},e.a.createElement("div",{className:"w-4 h-4 mr-2.5"},e.a.createElement("img",{src:Pa.a,alt:""})),e.a.createElement(v.H,{variant:"dhi_sub4",className:""},"VS Code extension")),e.a.createElement("div",{className:"w-3.5 h-3.5 ml-5"},e.a.createElement(C.c.Redirect,{color:"var(--dhi-primary-400)"}))),[E.c.flutter,E.c.androidFigma].includes(S)&&e.a.createElement(e.a.Fragment,null,e.a.createElement("div",{className:"flex items-center rounded-3 cursor-pointer justify-between p-2.5 w-full",onClick:()=>{window.open(qe.a.ANDROID_STUDIO,"__blank")},style:{backgroundColor:"rgba(164,198,57,15%)"}},e.a.createElement("div",{className:"flex items-center"},e.a.createElement("div",{className:"w-4 h-4 mr-2.5"},e.a.createElement("img",{src:Xt,alt:""})),e.a.createElement(v.H,{variant:"dhi_sub4",className:""},"Android Studio plugin")),e.a.createElement("div",{className:"w-2.5 h-2.5 ml-5"},e.a.createElement(C.c.Redirect,{color:"#A2CB21"}))),e.a.createElement("div",{className:"flex items-center rounded-3 cursor-pointer justify-between p-2.5 w-full",onClick:()=>{window.open(qe.a.INTELLIJ,"__blank")},style:{backgroundColor:"rgba(139,84,166,24%)"}},e.a.createElement("div",{className:"flex items-center"},e.a.createElement("div",{className:"w-4 h-4 mr-2.5"},e.a.createElement("img",{src:Jt.a,alt:""})),e.a.createElement(v.H,{variant:"dhi_sub4",className:""},"IntelliJ IDEA plugin")),e.a.createElement("div",{className:"w-2.5 h-2.5 ml-5"},e.a.createElement(C.c.Redirect,{color:"#B171D1"})))))),e.a.createElement(v.o,{isOpen:Q,handleSubmit:me,title:"",description:"Suspicious email found. You can not use VS code extention.",okText:"Ok",color:"default"}),e.a.createElement(v.B,{isOpen:T,closeModal:Ie}))};var Wt=t(2318),ia=t(2313),da=t(9),ha="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAkCAYAAAD7PHgWAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHcSURBVHgBzZi9L0NRHIbfi0gsiMUgqNBKpAwSMROJ2CVEYjIRmliKQZgtBgYh/hDxkVgMRhFJkRpFIqkuhgo/7+mHfrjtvbe5H+dJntz29rTn7Xva05sCLiIivbQDusJwp/QIOsJg/ZLji0ahGwx1LUWuoBMMNC//mYEOMEgzfTEJeE+bEDQMEZPqbCNIGCBEX2sETNF2BAUnPxFrDhAEUtxWrMjQcfgNJ70Q+1zCTzjhojjHn22HEzXRpDgnQVvgkAY4Z532wTkRugovkdzVSlrqR207jq52nDa4RVtRP2pP3IUX8J2HxR1+6DDchi96Lu5xBjfhCy6I+0zbmduwEU6NSdIQ3CVBRwzDyNQaZOdLEof74RSDdNlqUM0G2V4PDze0C96Qpn1sMVVtgFWDm/AunKINuRWqStUG2V6Yh0d4zzcdZYt3Zg/WanAP/tBI9x09g+3Nif9MmWUxTMJ5ta1Y8UDHuNSfpSfNlngN/odTDNGVypNlDea3lVvaiWD4oGG2+F44UdngDoILp1BXOxulJ/4aZHv9PDzBxs+fxwiNskX1mSxr8BjBh0M+w2HhTjYg25vlYRL6MMFM2TyG5P4/UUsbgl4804hqMAb9wikGaFw1uMQb3dCTt18p0Yqn7mUihwAAAABJRU5ErkJggg==",Ca=t(139),Ia=t(331),Qt=t.n(Ia);const ra=({log:a})=>{var n;const l=Qt.a.sanitize((n=a==null?void 0:a.payload)==null?void 0:n.text);return e.a.createElement("div",{className:"text-b1 font-normal mb-2"},l)};var Ea=({logs:a,closeLogs:n=()=>{}})=>{const l=e.a.useRef();return e.a.useEffect(()=>{l.current&&l.current.scrollIntoView({behaviour:"smooth"})},[a]),e.a.createElement(Ca.a,{open:!0,onClose:n,level:null,showMask:!1,handler:!1,placement:"bottom",wrapperClassName:"w-sidebarRight deployLogDrawer"},e.a.createElement(v.x,{onClick:n}),e.a.createElement("div",{className:"flex flex-shrink-0 justify-between pr-10 py-3 px-3 border-b border-outline items-center bg-surface2"},e.a.createElement(v.H,{variant:"dhi_sub2"},"Production"," ","deploy log")),e.a.createElement("div",{className:"deploylog h-60 xxl:h-72 overflow-auto p-3"},a.filter(P=>{var I;return((I=P==null?void 0:P.payload)==null?void 0:I.text)!==""}).map(P=>{var I;return e.a.createElement(ra,{log:P,key:(I=P==null?void 0:P.payload)==null?void 0:I.id})}),e.a.createElement("div",{ref:l}),e.a.createElement(ra,{log:"testing"})))},Na=Object.defineProperty,rt=Object.getOwnPropertySymbols,At=Object.prototype.hasOwnProperty,qt=Object.prototype.propertyIsEnumerable,It=(a,n,l)=>n in a?Na(a,n,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[n]=l,ea=(a,n)=>{for(var l in n||(n={}))At.call(n,l)&&It(a,l,n[l]);if(rt)for(var l of rt(n))qt.call(n,l)&&It(a,l,n[l]);return a},ua=({isLoading:a,handelDeploy:n,deployUrl:l,logs:P,showLogs:I,showUpdateToken:p=!1,updateToken:S,token:O,setShowUpdateToken:_,error:m,gitConfigStatus:y={},closeLogs:Pe={}})=>{const{currentApplicationCode:$,currentApplicationId:Ce}=Object(j.d)(),N=(y==null?void 0:y.isGitConfigured)&&(y==null?void 0:y.gitConfiguredType),k=!Object(c.isEmpty)(y==null?void 0:y.gitRepoDetails),Q=!Object(c.isEmpty)(y==null?void 0:y.gitSyncLog),se=!N||!k||!Q,[me,T]=e.a.useState("");function ge(){me&&S(me)}return e.a.createElement("div",{className:"bg-surface2 px-5 py-5 rounded-3"},e.a.createElement("div",{className:""},e.a.createElement("div",{className:"flex items-center"},e.a.createElement("div",{className:"w-5 mr-2.5"},e.a.createElement("img",{src:ha,alt:"Vercel"})),e.a.createElement(v.H,{variant:"dhi_sub2",className:"font-bold"},"Deploy on Vercel")),e.a.createElement(v.w,{className:"mt-1"},N?k?Q?l?"Do you want to push DhiWise changes on vercel? Please deploy again!":"Test your react app before taking it to the production environment.":"Commit your code to Git to test your app on Vercel before taking it to the production environment.":"You can deploy on Vercel, but first require select git repository to sync your code.":"You can deploy on Vercel, but first require sync with Git.",e.a.createElement(v.K,{target:"_blank",isDocReview:!0,docDetail:{currentApplicationCode:$,applicationId:Ce,docName:"Deploy on Vercel"},className:"ml-1",link:xt.b.VercelDeploy},"Read docs!")),!p&&(l||O)?e.a.createElement("div",{className:"flex justify-between items-center mt-2"},e.a.createElement("div",{className:"bg-surface2 border-1 border-outline py-1 px-2 flex items-center rounded-3 flex-grow"},e.a.createElement(v.K,{onClick:()=>{l&&window.open(`https://${l}`)},disabled:se,className:`flex-grow sm:text-xs whitespace-pre-wrap h-4 break-all overflow-hidden  py-0.5 ${O&&"opacity-50"}`},l||O),l?e.a.createElement(v.q,{size:"small",copyData:`https://${l}`}):""),l?e.a.createElement(v.i,ea({color:"success",size:"medium",className:"flex-shrink-0 ml-2",loading:a,disabled:se},!a&&{onClick:n}),"Deploy"):e.a.createElement(v.i.Icon,ea({size:"small",className:"ml-2 flex-shrink-0",color:a?"default":"success",loading:a,disabled:se},!a&&{onClick:n}),e.a.createElement(C.c.Play,null))):"",p?e.a.createElement("div",{className:"flex items-start mt-4"},e.a.createElement(v.I.Text,{desc:e.a.createElement(v.K,{link:"https://vercel.com/support/articles/how-do-i-use-a-vercel-api-access-token#creating-an-access-token",target:"_blank",className:"ml-1"},"How to get a Vercel token?"),label:!1,placeholder:"Your new token",WrapClassName:"flex-grow",size:"medium",onChange:Ie=>{T(Ie)},disabled:se}),e.a.createElement(v.i.Icon,ea({size:"medium",className:"ml-2 flex-shrink-0",color:a?"default":"success",loading:a,disabled:se},!a&&{onClick:ge}),e.a.createElement(C.c.Play,null))):"",m?e.a.createElement(v.D,{error:m}):""),p?"":e.a.createElement("div",{className:"flex justify-between w-full mt-2"},e.a.createElement("div",{onClick:()=>{_(!0)},className:"text-dhiSecondary-400 text-xs mt-1 underline cursor-pointer"},"Change Token")),I?e.a.createElement(Ea,{logs:P,closeLogs:Pe}):"")},Da=Object.defineProperty,La=Object.defineProperties,Sa=Object.getOwnPropertyDescriptors,za=Object.getOwnPropertySymbols,Sn=Object.prototype.hasOwnProperty,yn=Object.prototype.propertyIsEnumerable,Xa=(a,n,l)=>n in a?Da(a,n,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[n]=l,Lt=(a,n)=>{for(var l in n||(n={}))Sn.call(n,l)&&Xa(a,l,n[l]);if(za)for(var l of za(n))yn.call(n,l)&&Xa(a,l,n[l]);return a},Mt=(a,n)=>La(a,Sa(n)),bn=(a,n,l)=>new Promise((P,I)=>{var p=_=>{try{O(l.next(_))}catch(m){I(m)}},S=_=>{try{O(l.throw(_))}catch(m){I(m)}},O=_=>_.done?P(_.value):Promise.resolve(_.value).then(p,S);O((l=l.apply(a,n)).next())}),Un=({gitConfigStatus:a={},codeViewMixPanelLog:n=()=>{},subscriptionPlanDetails:l={}})=>{var P,I,p,S;const[O,_]=e.a.useState(!1),[m,y]=e.a.useState(null),[Pe,$]=e.a.useState([]),[Ce,N]=e.a.useState(!1),[k,Q]=e.a.useState(!1),[se,me]=e.a.useState(null),[T,ge]=e.a.useState(""),Ie=e.a.useRef(),{mixPanelTrack:q}=Object(le.a)(),{webengageTrackEvent:oe}=Object(Y.a)(),{currentProjectDetail:ee,buildProjectData:_e,currentApplicationCode:Ue,currentApplicationId:We,currentProjectId:Ge}=Object(j.d)(),nt=(P=ee==null?void 0:ee.applicationList)==null?void 0:P.find(f=>f._id===We),Oe=(I=ee==null?void 0:ee.applicationList)==null?void 0:I.find(f=>(f==null?void 0:f._id)===We),Ne=e.a.useRef(),W={applicationId:We,buildVersion:`${(p=_e==null?void 0:_e.generatedProjectData)==null?void 0:p.semanticVersionNumber}.${(S=_e==null?void 0:_e.generatedProjectData)==null?void 0:S.versionNumber}`,technology:s.f.TECHNOLOGY[Ue]};function tt(f){Object(da.c)(f).then(Fe=>{Fe&&Array.isArray(Fe)&&($(Fe),Fe.find(xe=>{var dt,ve;return((ve=(dt=xe==null?void 0:xe.payload)==null?void 0:dt.info)==null?void 0:ve.readyState)==="READY"})&&(clearInterval(Ne.current),_(!1),Q(!1),q(s.g.DEPLOY_APP,Mt(Lt({},W),{deployOn:s.f.DEPLOY_ON.VERCEL,executionStatus:s.f.EXECUTION_STATUS.SUCCESS})),oe(pe.g.DEPLOY_APP_COMPLETED,Mt(Lt({},W),{deployOn:s.f.DEPLOY_ON.VERCEL,executionStatus:s.f.EXECUTION_STATUS.SUCCESS})),window.open(`https://${Ie.current}`,"_blank")))}).catch(()=>{})}function Ke(){me(null),$([]),_(!0),Object(we.b)(`${we.a.application.vercelDeploy}`,{applicationId:We},"POST",{},{},{isErrorResponse:!0}).then(f=>{var Fe,lt;(f==null?void 0:f.code)==="GIT_SYNC_NOT_FOUND"?(_(!1),me(f==null?void 0:f.message),q(s.g.DEPLOY_APP,Mt(Lt({},W),{deployOn:s.f.DEPLOY_ON.VERCEL,executionStatus:s.f.EXECUTION_STATUS.FAILED,reason:f==null?void 0:f.message}))):(f==null?void 0:f.code)==="VERCEL_TOKEN_INVALID"?(me(f==null?void 0:f.message),N(!0),q(s.g.DEPLOY_APP,Mt(Lt({},W),{deployOn:s.f.DEPLOY_ON.VERCEL,executionStatus:s.f.EXECUTION_STATUS.FAILED,reason:f==null?void 0:f.message}))):(Q(!0),N(!1),n(),ge((Fe=f==null?void 0:f.data)==null?void 0:Fe.alias[0]),Ie.current=(lt=f==null?void 0:f.data)==null?void 0:lt.alias[0],Ne.current=setInterval(()=>{var xe;tt((xe=f==null?void 0:f.data)==null?void 0:xe.logs)},2e3))}).catch(f=>{(f==null?void 0:f.code)==="VERCEL_TOKEN_INVALID"&&N(!0),q(s.g.DEPLOY_APP,Mt(Lt({},W),{deployOn:s.f.DEPLOY_ON.VERCEL,executionStatus:s.f.EXECUTION_STATUS.FAILED,reason:f==null?void 0:f.message})),me(f==null?void 0:f.message),_(!1)})}const Gt=f=>{var Fe,lt,xe,dt,ve;_(!0);const at=Lt({applicationId:We,screens:((Fe=Oe==null?void 0:Oe.generatedIdData)==null?void 0:Fe.screenCount)||0,technology:s.f.TECHNOLOGY[Ue]},!Object(c.isEmpty)(l)&&Mt(Lt({currentPlanName:(lt=l==null?void 0:l.planPricingDetails)==null?void 0:lt.external_name},![g.a.FREE_FOREVER,g.a.ENTERPRISE].includes((xe=l==null?void 0:l.planPricingDetails)==null?void 0:xe.item_id)&&{currentPlanDuration:s.f.PLAN_DURATION[(dt=l==null?void 0:l.planPricingDetails)==null?void 0:dt.period_unit]}),{addonScreens:(ve=l==null?void 0:l.usageSummary)==null?void 0:ve.addOnCount}));if((a==null?void 0:a.gitConfiguredType)===Wt.a.GIT_HUB){const sa=Se.a.get(ft.c);Object(ia.b)({companyId:sa,projectId:Ge,applicationId:We,isForceUpdate:!0},{isErrorCode:!0}).then(()=>{_(!1),Ke(),q(s.g.SOURCE_CODE,Mt(Lt({},at),{executionStatus:s.f.EXECUTION_STATUS.SUCCESS,sourceCodeAction:s.f.SOURCE_CODE_ACTION.GITHUB_SYNC,generatorVersion:Oe==null?void 0:Oe.version})),oe(pe.g.DOWNLOAD_CODE_COMPLETED,Mt(Lt({},at),{sourceCodeAction:s.f.SOURCE_CODE_ACTION.GITHUB_SYNC,generatorVersion:Oe==null?void 0:Oe.version}))}).catch(Et=>{if(q(s.g.SOURCE_CODE,Mt(Lt({},at),{executionStatus:s.f.EXECUTION_STATUS.FAILED,sourceCodeAction:s.f.SOURCE_CODE_ACTION.GITHUB_SYNC,generatorVersion:Oe==null?void 0:Oe.version,reason:Et})),Et.code==="NO_CHANGES_TO_COMMIT"&&!(f!=null&&f.isTokenChange)){_(!1),window.open(`https://${T}`);return}Et&&!(f!=null&&f.isTokenChange)&&(_(!1),me(Et==null?void 0:Et.msg)),f!=null&&f.isTokenChange&&Ke()}).finally()}else{const sa=Se.a.get(ft.c);Object(ia.c)({companyId:sa,projectId:Ge,applicationId:We,isForceUpdate:!0},{isErrorCode:!0}).then(()=>{_(!1),Ke(),q(s.g.SOURCE_CODE,Mt(Lt({},at),{executionStatus:s.f.EXECUTION_STATUS.SUCCESS,sourceCodeAction:s.f.SOURCE_CODE_ACTION.GITLAB_SYNC,generatorVersion:Oe==null?void 0:Oe.version})),oe(pe.g.DOWNLOAD_CODE_COMPLETED,Mt(Lt({},at),{sourceCodeAction:s.f.SOURCE_CODE_ACTION.GITLAB_SYNC,generatorVersion:Oe==null?void 0:Oe.version}))}).catch(Et=>{if(q(s.g.SOURCE_CODE,Mt(Lt({},at),{executionStatus:s.f.EXECUTION_STATUS.FAILED,sourceCodeAction:s.f.SOURCE_CODE_ACTION.GITLAB_SYNC,generatorVersion:Oe==null?void 0:Oe.version,reason:Et})),(Et==null?void 0:Et.code)==="NO_CHANGES_TO_COMMIT"&&!(f!=null&&f.isTokenChange)){_(!1),window.open(`https://${T}`);return}Et&&!(f!=null&&f.isTokenChange)&&(_(!1),me(Et==null?void 0:Et.msg)),f!=null&&f.isTokenChange&&Ke()}).finally()}};function ma(f="xACoZkMGoCggxVSicRGAdBP9"){return bn(this,null,function*(){me(null),_(!0);const Fe={vercel:{personalAccessToken:f}};return Object(we.b)(`${we.a.project.url}/${Ge}`,Fe,"PUT",{},{},{isErrorResponse:!0}).then(lt=>((lt==null?void 0:lt.code)==="OK"&&(y(f),T?Gt({isTokenChange:!0}):Ke()),!0)).catch(lt=>{me(lt==null?void 0:lt.message),_(!1)})})}function je(){me(null),_(!0),Object(we.b)(`${we.a.project.url}/${Ge}`,{},"GET",{},{},{isErrorResponse:!0}).then(f=>{var Fe,lt,xe,dt;f&&((lt=(Fe=f==null?void 0:f.data)==null?void 0:Fe.vercel)==null?void 0:lt.personalAccessToken)?y((dt=(xe=f==null?void 0:f.data)==null?void 0:xe.vercel)==null?void 0:dt.personalAccessToken):N(!0),_(!1)}).catch(f=>{(f==null?void 0:f.code)==="VERCEL_TOKEN_INVALID"&&(me(f==null?void 0:f.message),q(s.g.DEPLOY_APP,Mt(Lt({},W),{deployOn:s.f.DEPLOY_ON.VERCEL,executionStatus:s.f.EXECUTION_STATUS.FAILED,reason:f==null?void 0:f.message}))),N(!0),_(!1)})}return e.a.useEffect(()=>{var f,Fe;(nt==null?void 0:nt.vercel)&&((f=nt==null?void 0:nt.vercel)==null?void 0:f.alias[0])&&ge((Fe=nt==null?void 0:nt.vercel)==null?void 0:Fe.alias[0]),je()},[]),e.a.createElement(ua,{setShowUpdateToken:N,showUpdateToken:Ce,updateToken:ma,showLogs:k,logs:Pe,handelDeploy:T?Gt:Ke,isLoading:O,deployUrl:T,token:m,error:se,gitConfigStatus:a,closeLogs:()=>{clearInterval(Ne.current),Q(!1),_(!1)}})};const xn=({isExportPopupOpen:a=!1,gitConfigStatus:n={},hideExportPopup:l=()=>{},isGitSyncPending:P=!1,setGitSyncPending:I=()=>{},setGitSyncCompleted:p=()=>{},showSyncWarning:S=()=>{},codeViewMixPanelLog:O=()=>{},setGitConfigStatus:_=()=>{},subscriptionPlanDetails:m={}})=>{var y,Pe,$,Ce,N,k,Q,se,me,T,ge,Ie,q,oe,ee;const{currentProjectDetail:_e,currentApplicationId:Ue,currentApplicationCode:We}=Object(j.d)(),Ge=new URLSearchParams(window.location.search),nt=Ge.get("screenExportBuild"),Oe=Ge.get("figmaPluginCode"),Ne=Ge.get("isSecondaryBuild"),W=Se.a.get(ft.z),tt=Object(te.j)(ye.a.GIT_INTEGRATION),Ke=(y=_e==null?void 0:_e.applicationList)==null?void 0:y.find(xe=>xe._id===Ue),Gt=($=(Pe=_e==null?void 0:_e.applicationList)==null?void 0:Pe.find(xe=>(xe==null?void 0:xe._id)===Ue))==null?void 0:$.secondaryAppId,ma=(m==null?void 0:m.code)==="ADD_ON_USED",je=ma?Ut((Ce=m==null?void 0:m.addOnPricingDetails)==null?void 0:Ce.tiers,0,(N=m==null?void 0:m.addOnPricingDetails)==null?void 0:N.pricing_model):{},f=((k=m==null?void 0:m.planPricingDetails)==null?void 0:k.period_unit)==="year"?{}:Ot((Q=m==null?void 0:m.relatedPlanAndAddOnsDetails)==null?void 0:Q.addOns,"year"),{webengageTrackEvent:Fe}=Object(Y.a)(),lt=()=>new Promise((xe,dt)=>{var ve;Object(ia.d)(Ne?(ve=Gt==null?void 0:Gt._id)!=null?ve:W==null?void 0:W._id:Ue).then(at=>{_(at==null?void 0:at.data),xe(at==null?void 0:at.data)}).catch(dt)});return e.a.useEffect(()=>{lt()},[]),e.a.useEffect(()=>{a&&Fe(pe.g.DOWNLOAD_CODE_INITIATED,{applicationId:Ue,applicationName:Ke==null?void 0:Ke.displayName,technology:pe.f[We]})},[a]),e.a.createElement(v.db,{styleWrapper:We===E.c.IOS?{width:"700px"}:!Oe&&!nt&&(tt==null?void 0:tt.CREATE)?{width:"1042px"}:{width:"900px"},isOpen:a,title:`${(me=(se=Ke==null?void 0:Ke.displayName)!=null?se:Ke==null?void 0:Ke.name)!=null?me:""} (${((T=Ke==null?void 0:Ke.generatedIdData)==null?void 0:T.screenCount)||0} screens)`,style:{padding:"24px",borderRadius:"0 0 3px 3px"},closeModal:()=>{P?S():l()}},ma&&e.a.createElement("div",{className:"bg-dhiSecondary-50 rounded-3 p-4 mb-6 flex flex-col gap-1"},e.a.createElement("div",{className:"text-sub3 leading-5 font-bold text-dhiSecondary-400"},`You have reached ${Object(c.capitalize)(g.c[(ge=m==null?void 0:m.planPricingDetails)==null?void 0:ge.period_unit])} screen limit:`,e.a.createElement("span",{className:"font-normal text-left ml-0.5"},`Your ${Object(c.capitalize)(g.c[(Ie=m==null?void 0:m.planPricingDetails)==null?void 0:Ie.period_unit])} plan has ${(q=m==null?void 0:m.usageSummary)==null?void 0:q.leftCount} screen credits, but you're trying to download ${(oe=m==null?void 0:m.usageSummary)==null?void 0:oe.requestCount} screens. You'll now be billed on-demand at $${je==null?void 0:je.price} per screen.`)),e.a.createElement("div",null,((ee=m==null?void 0:m.planPricingDetails)==null?void 0:ee.period_unit)==="year"?"":e.a.createElement("span",{className:"text-sub4 text-medium"},"Want more flexibility?"," ",`Opt for our Annual plan and gain access to ${f==null?void 0:f.ending_unit} screens to use at any point throughout the year.`," ",e.a.createElement(v.K,{onClick:()=>{var xe;((xe=m==null?void 0:m.planPricingDetails)==null?void 0:xe.item_id)===g.a.PRO&&window.open(g.b.ENTERPRISE,"_blank"),window.open(g.b.PAID,"_blank")}},"Upgrade your plan")," ","and expand your opportunities!"))),e.a.createElement("div",{className:`flex gap-16 items-start ${!Oe&&!nt&&(tt==null?void 0:tt.CREATE),""}`},We!==E.c.IOS&&e.a.createElement("div",{className:"grid grid-cols-1 gap-5 flex-shrink-0",style:{width:"420px"}},e.a.createElement(ke,{codeViewMixPanelLog:O}),Object(b.b)(We)&&!nt&&!Oe&&e.a.createElement(e.a.Fragment,null,e.a.createElement(Un,{gitConfigStatus:n,codeViewMixPanelLog:O,subscriptionPlanDetails:m}))),e.a.createElement("div",{className:"grid grid-cols-1 gap-4 flex-grow"},!Oe&&!nt&&(tt==null?void 0:tt.CREATE)&&e.a.createElement(Qe.a,{gitConfigStatus:n,isSecondaryBuild:Ne,secondaryAppData:Gt,getGitIntegrationDetails:lt,setGitConfigStatus:_,closeExportCodePopup:l,setGitSyncPending:I,setGitSyncCompleted:p,codeViewMixPanelLog:O,subscriptionPlanDetails:m}),e.a.createElement("div",{className:`bg-surface2 p-5 flex justify-between items-center rounded-3 ${We===E.c.IOS&&"mt-10"}`},e.a.createElement(v.H,{variant:"dhi_sub2",className:"font-bold"},"Download source code"),e.a.createElement(Nt.a,{fromExportCodePopup:!0,hideExportPopup:l,label:"Download",codeViewMixPanelLog:O,subscriptionPlanDetails:m})))))};var xa=t(56),Mn=t.p+"static/media/lock.dd050021.svg",wn=Object.defineProperty,jn=Object.defineProperties,Bn=Object.getOwnPropertyDescriptors,Ja=Object.getOwnPropertySymbols,Vn=Object.prototype.hasOwnProperty,Wn=Object.prototype.propertyIsEnumerable,Za=(a,n,l)=>n in a?wn(a,n,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[n]=l,Ma=(a,n)=>{for(var l in n||(n={}))Vn.call(n,l)&&Za(a,l,n[l]);if(Ja)for(var l of Ja(n))Wn.call(n,l)&&Za(a,l,n[l]);return a},Gn=(a,n)=>jn(a,Bn(n));const Kn=a=>{if((a==null?void 0:a.subscriptionType)===g.d.BILLING){if((a==null?void 0:a.code)==="ADD_ON_USED")return s.f.PLAN_UPGRADE_TRIGGER.LIMIT_EXCEED;if(["MAX_USAGE_EXCEED","E_YEARLY_LIMIT_EXCEED"].includes(a==null?void 0:a.code))return s.f.PLAN_UPGRADE_TRIGGER.MAX_LIMIT_EXCEED}else if([g.d.FREE_FOREVER,g.d.CANCELLED].includes(a==null?void 0:a.subscriptionType))return s.f.PLAN_UPGRADE_TRIGGER.NO_ACTIVE_PLAN;return s.f.PLAN_UPGRADE_TRIGGER.NO_ACTIVE_PLAN},Fn=({isOpen:a,subscriptionPlanDetails:n={},closeModal:l=()=>{},applicationId:P,currentApplicationCode:I})=>{var p,S,O,_,m,y,Pe,$,Ce;const{mixPanelTrack:N}=Object(le.a)(),k=Se.a.get(ft.A),Q=Se.a.get(ft.v),se=Se.a.get(ft.c),me=encodeURIComponent(window.location.href),T=`https://appbilling.dhiwise.com?authToken=${k}&refreshToken=${Q}&companyId=${se}&activeTab=1&sourcePlatform=1&redirectURL=${me}`,ge=(n==null?void 0:n.code)==="E_YEARLY_LIMIT_EXCEED",Ie=(n==null?void 0:n.code)==="MAX_USAGE_EXCEED",q=Gn(Ma({applicationId:P,technology:s.f.TECHNOLOGY[I],currentPlanName:(p=n==null?void 0:n.planPricingDetails)==null?void 0:p.external_name},![g.a.FREE_FOREVER,g.a.ENTERPRISE].includes((S=n==null?void 0:n.planPricingDetails)==null?void 0:S.item_id)&&{currentPlanDuration:s.f.PLAN_DURATION[(O=n==null?void 0:n.planPricingDetails)==null?void 0:O.period_unit]}),{interactionType:s.f.INTERACTION_TYPE.SCREEN,upgradePromptCause:Kn(n)}),oe=()=>{N(s.g.UPGRADE_PLAN_VIEW_CLOSED,Ma({},q)),l()};return e.a.createElement(v.o,{isOpen:a,style:{width:"690px"},title:!1,description:!1,closeModal:oe,bodyClass:"p-12",okText:!1},e.a.createElement("div",{className:"flex flex-col "},e.a.createElement("div",{className:"flex flex-col gap-8"},e.a.createElement("div",{className:"flex flex-col gap-6"},e.a.createElement(v.H,{variant:"dhi_h6"},`Heads Up! You've Exceeded the ${(m=(_=n==null?void 0:n.planPricingDetails)==null?void 0:_.external_name)!=null?m:"Current"} Plan Limit`),e.a.createElement("div",{className:""},e.a.createElement("div",{className:"relative"},e.a.createElement("div",{className:"w-full h-2 rounded-full bg-dhiSecondary-400 relative z-1"}),e.a.createElement("div",{className:"w-8 h-8 rounded-full bg-dhiSecondary-50 flex items-center justify-center -right-4 absolute inset-y-0 my-auto"},e.a.createElement("div",{className:"w-5 h-5 bg-dhiSecondary-800 rounded-full"}))),e.a.createElement("div",{className:"flex justify-between items-center mt-1.5"},e.a.createElement("div",{className:"text-left pr-4"},e.a.createElement(v.w,{variant:"dhi_sub4"},"You've created"," ",e.a.createElement("span",{className:"font-bold text-high"},`${(y=n==null?void 0:n.usageSummary)==null?void 0:y.requestCount} screens`),`, which is fantastic. However, under the ${($=(Pe=n==null?void 0:n.planPricingDetails)==null?void 0:Pe.external_name)!=null?$:"current"} plan, you only have credits remaining to download`," ",e.a.createElement("span",{className:"font-bold text-high"},`${(Ce=n==null?void 0:n.usageSummary)==null?void 0:Ce.leftCount} screens`),"."))))),e.a.createElement("div",{className:"text-left flex flex-col gap-2"},e.a.createElement(v.H,{variant:"dhi_sub2"},"To continue downloading your application code:"),e.a.createElement("ul",{className:"pl-4"},e.a.createElement("li",{className:"text-medium text-sub4 list-disc"},e.a.createElement("b",{className:"text-high"},"Upgrade Your Plan:")," ","Choose a plan that fits your needs and enjoy additional screens and features."))),e.a.createElement("div",{className:"flex flex-col items-center gap-1.5"},ge||Ie?null:e.a.createElement(v.H,{variant:"dhi_sub4"},"To Increase your screen limit"),e.a.createElement("div",{style:{minWidth:"300px"}},e.a.createElement(v.i,{className:"w-full",leftIcon:ge||Ie?!1:e.a.createElement("img",{src:Mn,alt:""}),onClick:()=>{var ee,_e;N(s.g.NAVIGATE_TO_PLAN_PAGE,Ma({triggerPoint:s.f.PLAN_UPGRADE_TRIGGER_POINT.UPGRADE_PROMPT,isExclusivePlan:(ee=n==null?void 0:n.hasAccessToExclusivePlan)!=null?ee:!1},q)),Ie?window.open(g.b.PAID,"_blank"):ge?((_e=n==null?void 0:n.planPricingDetails)==null?void 0:_e.item_id)===g.a.PRO?window.open(g.b.ENTERPRISE,"_blank"):window.open(g.b.PAID,"_blank"):window.open(T,"_self")}},ge||Ie?"Contact sales":"Upgrade Now"))),e.a.createElement("div",{className:"bg-surface2 border-1 border-outline border-dashed text-left p-3 rounded-3 flex flex-col gap-2"},e.a.createElement(v.H,{variant:"dhi_sub2",className:"font-bold"},"Note:"),e.a.createElement("ul",{className:"pl-5 flex flex-col gap-1"},e.a.createElement("li",{className:"text-sub4 text-medium list-disc"},"There are no restrictions on uploading screens."),e.a.createElement("li",{className:"text-sub4 text-medium list-disc"},"Limitations apply when downloading code."),e.a.createElement("li",{className:"text-sub4 text-medium list-disc"},"Tasks beyond your current plan's limit will be saved and can be accessed post-upgrade."))))))};var Yn=Object.defineProperty,Hn=Object.defineProperties,$n=Object.getOwnPropertyDescriptors,Qa=Object.getOwnPropertySymbols,kn=Object.prototype.hasOwnProperty,zn=Object.prototype.propertyIsEnumerable,qa=(a,n,l)=>n in a?Yn(a,n,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[n]=l,en=(a,n)=>{for(var l in n||(n={}))kn.call(n,l)&&qa(a,l,n[l]);if(Qa)for(var l of Qa(n))zn.call(n,l)&&qa(a,l,n[l]);return a},tn=(a,n)=>Hn(a,$n(n));const Xn=({currentApplicationCode:a,codeViewMixPanelLog:n=()=>{},applicationId:l,applicationName:P})=>{var I;const{currentProjectDetail:p}=Object(j.d)(),S=Object(ie.h)(),{mixPanelTrack:O}=Object(le.a)(),_=(I=p==null?void 0:p.applicationList)==null?void 0:I.find(Ne=>Ne._id===l),[m,y,Pe]=Object(Me.a)(!1),[$,Ce,N]=Object(Me.a)(!1),[k,Q,se]=Object(Me.a)(!1),[me,T,ge]=Object(Me.a)(!1),[Ie,q]=e.a.useState({}),[oe,ee]=e.a.useState({}),{webengageTrackEvent:_e}=Object(Y.a)(),Ue=new URLSearchParams(window.location.search),We=Ue.get("openDownloadCode"),Ge=Ue.get("isSecondaryBuild"),nt=Ue.get("screenExportBuild"),Oe=Ue.get("figmaPluginCode");return e.a.useEffect(()=>{if(!m){let Ne="&isDownloadZip=true";Ge?Ne+=`&isSecondaryBuild=${Ge}`:nt&&(Ne+=`&screenExportBuild=${nt}`),Object(h.m)(l,Ne,{isHandleCatch:!0}).then(W=>{var tt;ee(tn(en({},(tt=W==null?void 0:W.data)!=null?tt:{}),{code:W==null?void 0:W.code}))}).catch(()=>{})}},[m]),e.a.useEffect(()=>{var Ne,W;We&&(Q(),y(),Ge?Ge&&window.history.replaceState({},"",(W=S.pathname+S.search)==null?void 0:W.replaceAll("?isSecondaryBuild=true&openDownloadCode=true","?isSecondaryBuild=true")):window.history.replaceState({},"",(Ne=S.pathname+S.search)==null?void 0:Ne.replaceAll("?openDownloadCode=true","")))},[]),e.a.createElement(e.a.Fragment,null,e.a.createElement("div",{className:"bg-dhiPrimary-500 pl-2.5 flex items-center justify-between"},e.a.createElement("div",{className:"flex items-center py-1 flex-grow pr-1"},e.a.createElement(Bt,null),Object(b.b)(a)&&e.a.createElement(e.a.Fragment,null,e.a.createElement("div",{className:"w-px h-4 bg-dhiPrimary-800 mr-4"}),e.a.createElement("div",{className:"flex items-center flex-shrink-0"},e.a.createElement(v.H,{variant:"dhi_b1"},"If you want to change the code config, please go to setting"),e.a.createElement("div",{className:"w-4 h-4 ml-2",onClick:()=>window.open(Object(xa.b)(Ve.G[a]))},e.a.createElement(C.c.Setting,null))))),e.a.createElement("div",{className:"flex-shrink-0"},a===E.c.IOS&&(Oe||nt)?e.a.createElement(Nt.a,{fromExportCodePopup:!0,label:"Download source code",className:"sm:bg-exportButton sm:rounded-none sm:text-b1",variant:"primary",codeViewMixPanelLog:n}):e.a.createElement(v.i,{className:"sm:bg-exportButton sm:rounded-none sm:text-b1",size:"medium",shape:"square",leftIcon:e.a.createElement(C.c.Download,null),onClick:()=>{var Ne,W,tt,Ke;O(s.g.DOWNLOAD_OPTION_CLICKED,tn(en({applicationId:l,technology:s.f.TECHNOLOGY[a],currentPlanName:(Ne=oe==null?void 0:oe.planPricingDetails)==null?void 0:Ne.external_name},![g.a.FREE_FOREVER,g.a.ENTERPRISE].includes((W=oe==null?void 0:oe.planPricingDetails)==null?void 0:W.item_id)&&{currentPlanDuration:s.f.PLAN_DURATION[(tt=oe==null?void 0:oe.planPricingDetails)==null?void 0:tt.period_unit]}),{screens:((Ke=_==null?void 0:_.generatedIdData)==null?void 0:Ke.screenCount)||0})),["OK","ADD_ON_USED"].includes(oe==null?void 0:oe.code)?(y(),N(),se(),_e(pe.g.DOWNLOAD_CODE_INITIATED,{applicationId:l,technology:pe.f[a],applicationName:P})):T()}},"Sync or download code"))),e.a.createElement(Fn,{isOpen:me,closeModal:ge,subscriptionPlanDetails:oe,applicationId:l,currentApplicationCode:a}),e.a.createElement(xn,{isExportPopupOpen:m,hideExportPopup:Pe,isGitSyncPending:k,setGitSyncPending:Q,setGitSyncCompleted:se,showSyncWarning:Ce,gitConfigStatus:Ie,subscriptionPlanDetails:oe,codeViewMixPanelLog:n,setGitConfigStatus:q}),e.a.createElement(v.o,{isOpen:$,handleSubmit:()=>{N(),Pe()},title:"Are you sure you want to close?",description:Object(c.isEmpty)(Ie==null?void 0:Ie.gitRepoDetails)?"The code is not yet synced. Please select a repository to sync the application code.":"Commit to your repository is pending. Please commit, to sync the code to your repository.",okText:"Yes, close",handleClose:N,closeModal:N}))};var an=t(10),Jn=Object.defineProperty,Zn=Object.defineProperties,Qn=Object.getOwnPropertyDescriptors,nn=Object.getOwnPropertySymbols,qn=Object.prototype.hasOwnProperty,el=Object.prototype.propertyIsEnumerable,ln=(a,n,l)=>n in a?Jn(a,n,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[n]=l,ct=(a,n)=>{for(var l in n||(n={}))qn.call(n,l)&&ln(a,l,n[l]);if(nn)for(var l of nn(n))el.call(n,l)&&ln(a,l,n[l]);return a},wt=(a,n)=>Zn(a,Qn(n));const tl={[E.c.figmaReact]:["/public","/src/assets","/src/util","/src/styles"],[E.c.nextJS]:["/public","/src/assets","/src/util","/src/styles"],[E.c.html]:["/public","/css"]},al=(a,n)=>{var l;return[E.c.figmaReact,E.c.nextJS,E.c.html].includes(n)?(l=a==null?void 0:a.filter(P=>{var I;return!((I=tl[n])!=null&&I.some(p=>P.startsWith(p)))}))==null?void 0:l.map(P=>P==null?void 0:P.substring(1)):a==null?void 0:a.map(P=>P==null?void 0:P.substring(1))},wa=(a,n,l,P,I,p)=>{var S;return[E.c.androidFigma,E.c.flutter,E.c.IOS].includes(a)||Object(b.b)(a)?ct({applicationId:l?(S=P==null?void 0:P._id)!=null?S:I==null?void 0:I._id:n},p&&{screenExportBuild:p}):{applicationId:n}};function nl(){var a,n,l;const[P,I]=Object(j.b)(),{currentApplicationId:p,currentProjectDetail:S,currentApplicationCode:O,buildProjectData:_}=P,m=S==null?void 0:S.applicationList,y=m==null?void 0:m.find(Xe=>(Xe==null?void 0:Xe._id)===p),Pe=!Object(c.isEmpty)(O)&&O===E.c.nodeExpress,$=!Object(c.isEmpty)(O)&&Object(b.b)(O),Ce=!Object(c.isEmpty)(O)&&[E.c.androidFigma,E.c.flutter,E.c.IOS].includes(O),N=!Object(c.isEmpty)(O)&&O===E.c.reactAdmin,k=(a=m==null?void 0:m.find(Xe=>(Xe==null?void 0:Xe._id)===p))==null?void 0:a.secondaryAppId,Q=Se.a.get(ft.z),se=Object(fe.e)(),me=Object(ie.g)(),{mixPanelTrack:T}=Object(le.a)(),{webengageTrackEvent:ge}=Object(Y.a)(),{addErrorToast:Ie}=Object(te.i)(),q=Object(te.j)(ye.a.GIT_INTEGRATION),[oe,ee,_e]=Object(Me.a)(!0),[Ue,We,Ge]=Object(Me.a)(!0),[nt,Oe,Ne]=Object(Me.a)(!1),[W,tt,Ke]=Object(Me.a)(!1),[Gt,ma]=Object(U.useState)(250),[je,f]=Object(U.useState)(!1),[Fe,lt]=e.a.useState(""),[xe,dt]=e.a.useState(""),[ve,at]=e.a.useState(!1),[sa,Et]=e.a.useState({}),[_a,ja]=e.a.useState(0),[Ba,on]=e.a.useState([]),[Va,rn]=e.a.useState(""),Wa=new URLSearchParams(window.location.search),ta=Wa.get("screenExportBuild"),Ga=Wa.get("figmaPluginCode"),va=Wa.get("isSecondaryBuild"),ca=e.a.useRef(""),Ka=e.a.useRef(""),Fa=e.a.useRef(""),Ya=e.a.useRef([]),Ha=e.a.useRef(""),$a={applicationId:p,technology:s.f.TECHNOLOGY[O]};e.a.useEffect(()=>{Object(c.isEmpty)(Ba)||(Ya.current=[...Ba])},[Ba]),e.a.useEffect(()=>{Va&&(Ha.current=Va)},[Va]),e.a.useEffect(()=>{function Xe(){ja(window.innerWidth)}return window.addEventListener("resize",Xe),Xe(),()=>{window.removeEventListener("resize",Xe)}},[]);const sn=()=>{const Xe=ca.current;return new w.S3(wt(ct({},Object(c.pick)(Xe,["accessKeyId","secretAccessKey","sessionToken"])),{region:$e.b}))},ka=(Xe="",St=[])=>{var aa,pa;sn().listObjectsV2(wt(ct({Bucket:$e.c},Xe&&{ContinuationToken:Xe}),{Prefix:`${(aa=ca.current)==null?void 0:aa.awsKeyPath}/${(pa=m.find(G=>G._id===p))==null?void 0:pa.name}/`})).promise().then(G=>{var Rt;if(G)if(G.IsTruncated)St.push(G.Contents),ka(G.NextContinuationToken,St.flat());else{if(!Object(c.isEmpty)(G==null?void 0:G.Contents)){const Kt=[...G.Contents,...St];I(Object(Dt.f)({projectStructure:Object(pt.b)(Kt,`${ca.current.awsKeyPath}/${(Rt=m.find(Tt=>Tt._id===p))==null?void 0:Rt.name}`)})),_e()}Ge()}else ee(),Ge()}).catch(G=>{if((G==null?void 0:G.name)===$e.a){const Rt=wa(O,p,va,k,Q,ta);Object(Re.a)(Rt).then(Kt=>{ca.current=Kt.data.accessParam,ka(Xe,St),I(Object(Dt.f)({currentProject:{applications:m.map(Tt=>Tt._id===p?wt(ct({},Tt),{awsToken:Kt.data.accessParam||{}}):Tt)}}))}).catch(Kt=>{ee(),ca.current={},Ie(Kt),Ge()})}else Ie(G.message),ee(),Ge()})},cn=()=>{var Xe,St;sn().getObject({Bucket:$e.c,Key:`${(Xe=ca.current)==null?void 0:Xe.awsFailKeyPath}/${(St=m.find(jt=>jt._id===p))==null?void 0:St.name}/logs/errors.log`}).promise().then(jt=>{lt(jt.Body.toString())}).catch(jt=>{if((jt==null?void 0:jt.name)===$e.a){const ya=wa(O,p,va,k,Q,ta);Object(Re.a)(ya).then(G=>{ca.current=G.data.accessParam,I(Object(Dt.f)({currentProject:{applications:m.map(Rt=>Rt._id===p?wt(ct({},Rt),{awsToken:G.data.accessParam||{}}):Rt)}})),cn()}).catch(G=>{ca.current={},Ie(G)})}})};e.a.useEffect(()=>{var Xe,St;const aa={applicationId:p},jt=((S==null?void 0:S.applicationList)||[]).find(G=>(G==null?void 0:G._id)===p);((Xe=jt==null?void 0:jt.projectDefinition)==null?void 0:Xe.code)===E.c.react&&(aa.isReact=!0,f(!0)),ta&&(aa.screenExportBuild=ta),[E.c.androidFigma,E.c.IOS].includes(O)&&va&&(aa.applicationId=(St=k==null?void 0:k._id)!=null?St:Q==null?void 0:Q._id),We();const ya=wa(O,p,va,k,Q,ta);Object(Re.a)(wt(ct({},ya),{viewCode:!0})).then(G=>{var Rt,Kt,Tt,dn,En,un,mn,_n,vn,pn,fn,Pn,On,An,Tn,hn,Cn,In,Rn;if((G==null?void 0:G.code)==="OK"){const{application:M}=(Rt=G==null?void 0:G.data)==null?void 0:Rt.list;ca.current=G.data.accessParam,(Tt=(Kt=G==null?void 0:G.data)==null?void 0:Kt.accessParam)!=null&&Tt.awsKeyPath?ka():Ge(),va&&(M.secondaryAppId=Object(c.isEmpty)(Q)?k:Q,M._id=M==null?void 0:M.primaryAppId),ta&&(M.generatedId=(dn=M==null?void 0:M.screenExportBuildTrack)==null?void 0:dn.generatedId,M.tempGeneratedId=(En=M==null?void 0:M.screenExportBuildTrack)==null?void 0:En.tempGeneratedId);const ol=(un=M==null?void 0:M.inProcessStatus)==null?void 0:un.build_app,gn=!![d.c.IN_QUEUE,d.c.IN_PROCESS].includes(ol),il=wt(ct({},!gn&&ct({generatedProjectData:M==null?void 0:M.generatedIdData,prevGeneratedProjectData:M==null?void 0:M.tempGeneratedIdData,generatedId:(M==null?void 0:M.generatedId)||"",tempGeneratedId:(M==null?void 0:M.tempGeneratedId)||""},ta&&{screenExportBuildTrack:(M==null?void 0:M.screenExportBuildTrack)||{}})),{statics:M==null?void 0:M.statics,generatedProjectArchitecture:M==null?void 0:M.projectType,processStep:M==null?void 0:M.processStep}),rl=(mn=S==null?void 0:S.applicationList)==null?void 0:mn.map(Ua=>{var Nn,Dn,Ln;return(Ua==null?void 0:Ua._id)===p?ct(ct(wt(ct(ct({},Ua),!gn&&ct({generatedIdData:M==null?void 0:M.generatedIdData,tempGeneratedIdData:M==null?void 0:M.tempGeneratedIdData,generatedId:(M==null?void 0:M.generatedId)||"",tempGeneratedId:(M==null?void 0:M.tempGeneratedId)||""},ta&&{screenExportBuildTrack:(M==null?void 0:M.screenExportBuildTrack)||{}})),{statics:M==null?void 0:M.statics,generatedProjectArchitecture:M==null?void 0:M.projectType,projectType:M==null?void 0:M.projectType,processStep:M==null?void 0:M.processStep,awsToken:G.data.accessParam||{},version:(Ln=(Dn=(Nn=G==null?void 0:G.data)==null?void 0:Nn.list)==null?void 0:Dn.application)==null?void 0:Ln.version}),(Pe||N)&&{output:M==null?void 0:M.output}),va&&{secondaryAppId:Object(c.isEmpty)(Q)?k:Q}):Ua});I(Object(Dt.f)(wt(ct({},il),{currentProject:{applications:rl}}))),se(Object(Ct.b)()),!Ga&&[E.c.nodeExpress,E.c.reactAdmin,E.c.laravel].includes(O)&&(Se.a.remove("currentBuildData"),Se.a.set("currentBuildData",wt(ct({},M),{awsToken:G.data.accessParam||{}})));const ba=(pn=(vn=(_n=G==null?void 0:G.data)==null?void 0:_n.list)==null?void 0:vn.application)==null?void 0:pn.generatedIdData;Ka.current=(Cn=(hn=(Tn=(An=(On=(Pn=(fn=G==null?void 0:G.data)==null?void 0:fn.accessParam)==null?void 0:Pn.awsKeyPath)==null?void 0:On.split("/appVersion/"))==null?void 0:An.pop())==null?void 0:Tn.split("/output"))==null?void 0:hn[0])!=null?Cn:`${ba==null?void 0:ba.semanticVersionNumber}.${ba==null?void 0:ba.versionNumber}`,Fa.current=(Rn=(In=G==null?void 0:G.data)==null?void 0:In.flutterBuilderVersion)!=null?Rn:"",rn(de()(new Date))}}).catch(()=>{ee(),N?Object(h.q)(y==null?void 0:y.parentId).then(G=>{if(G.code==="OK"){const{errorInDataConfig:Rt,errorInConfiguration:Kt}=Object(Ft.a)(G.data),Tt={isOpen:!1,link:"",message:""};if(Rt&&(Tt.message="Please configure model config.",Tt.link=Object(xa.b)(an.f.dataConfig,p),Tt.isOpen=!0),Kt&&(Tt.message=Rt?"Please configure model and layout config.":"Please configure layout config",Tt.link=Object(xa.b)(an.f.layoutConfig,p),Tt.isOpen=!0),Et(Tt),Rt||Kt)return;!_.generatedId&&!_.tempGeneratedId&&Oe()}else Ie(G.message)}).catch(G=>{Ie(G==null?void 0:G.message)}):!_.generatedId&&!_.tempGeneratedId&&!Ga&&!ta&&!va&&Oe(),T(s.g.VIEW_CODE,wt(ct({},$a),{executionStatus:s.f.EXECUTION_STATUS.FAILED,reason:"Code View failed"})),Ge()})},[p,N]),e.a.useEffect(()=>{!Ue&&(W||!(_!=null&&_.generatedId)&&(_==null?void 0:_.tempGeneratedId))&&cn()},[W,Ue,_==null?void 0:_.tempGeneratedId,_==null?void 0:_.generatedId]);const fa=(Xe=!1)=>{var St,aa;const pa=Number((aa=(St=de()(new Date))==null?void 0:St.diff(Ha.current,"minute",!0))==null?void 0:aa.toFixed(2));if(Ha.current&&pa&&(!Xe||Xe&&document.visibilityState==="hidden")){const jt=al(Ya.current,O);T(s.g.VIEW_CODE,wt(ct(wt(ct({},$a),{fileName:jt,duration:pa,buildVersion:Ka.current}),Fa.current&&{platformVersion:"2.0"}),{executionStatus:s.f.EXECUTION_STATUS.SUCCESS})),ge(pe.g.CODE_VIEW_COMPLETED,ct(wt(ct({},$a),{fileName:jt,duration:pa,buildVersion:Ka.current}),Fa.current&&{platformVersion:"2.0"})),rn(de()(new Date)),on([Object(c.last)(Ya.current)])}};e.a.useEffect(()=>(window.addEventListener("pagehide",fa),window.addEventListener("visibilitychange",()=>fa(!0)),()=>{window.removeEventListener("pagehide",fa),window.removeEventListener("visibilitychange",()=>fa(!0))}),[]);const ll=()=>{me.push(sa.link),Et({})};return e.a.createElement(e.a.Fragment,null,e.a.createElement(Ae.a,{hideHeader:!0},e.a.createElement(o.a,null,e.a.createElement("meta",{name:"viewport",content:"width=1200, initial-scale=0, maximum-scale=0,user-scalable=0"}),e.a.createElement("title",null,"DhiWise | View"," ",s.f.TECHNOLOGY[O]," ","code")),e.a.createElement("div",{className:"w-full flex flex-col"},Ue&&e.a.createElement(v.S,null),!Ue&&(!_.generatedId&&_.tempGeneratedId?e.a.createElement(e.a.Fragment,null,e.a.createElement("div",{className:"relative flex justify-between"},e.a.createElement(v.g,{className:"relative codeBradCrumb"},e.a.createElement(v.h,{title:(l=(n=y==null?void 0:y.displayName)!=null?n:y==null?void 0:y.name)!=null?l:"",isRightArrow:!0}),e.a.createElement(v.h,{title:"errors.log"}))),e.a.createElement(v.m,{value:Fe,readOnly:!0})):e.a.createElement(Ee.a,{isReact:je,isAdmin:N},oe?e.a.createElement(e.a.Fragment,null,e.a.createElement(v.Y,{title:"Code is not generated yet.",description:e.a.createElement(e.a.Fragment,null,"Please, try again in a few minutes.")}),e.a.createElement(na.a,{isOpen:nt,closeBuildPopUp:Ne})):e.a.createElement(e.a.Fragment,null,e.a.createElement("div",{className:"flex relative w-full h-full"},e.a.createElement(i.a,{onChange:ma,split:"vertical",minSize:250,maxSize:_a*75/100,defaultSize:250},e.a.createElement("div",{className:"h-full leftFolder"},e.a.createElement(D,{setVisitedFiles:on})),e.a.createElement("div",{className:"flex flex-col h-full",style:{width:N?`calc(100vw - ${Gt}px)`:`calc(100vw - ${Gt}px)`}},e.a.createElement(mt,null)))),($||Ce)&&e.a.createElement(Xn,{currentApplicationCode:O,codeViewMixPanelLog:fa,applicationId:p,applicationName:y==null?void 0:y.applicationName}),!$&&!Ce&&e.a.createElement("div",{className:"mt-1 bg-surface2 flex justify-between codeBottom "},e.a.createElement("div",{className:"flex items-center"},e.a.createElement(Bt,null),(_==null?void 0:_.tempGeneratedId)&&e.a.createElement(v.i,{color:"danger",size:"medium",className:"ml-2",shape:"square",onClick:tt},"Build error")),e.a.createElement("div",{className:"flex items-center p-1"},(Pe||N)&&e.a.createElement(ut,null),e.a.createElement(Nt.a,{size:"medium",codeViewMixPanelLog:fa}),!Ga&&!ta&&(q==null?void 0:q.CREATE)&&e.a.createElement(Ye.a,{isSecondaryBuild:va,secondaryAppData:k,codeViewMixPanelLog:fa})))))))),W&&e.a.createElement(kt.a,{isOpen:W,onClose:Ke,errorLog:Fe,title:"Build Error"}),e.a.createElement(v.o,{title:"",description:xe,isOpen:!!xe,handleSubmit:()=>dt(""),color:"default",okText:"Ok"}),e.a.createElement(v.o,{title:"",description:xe,isOpen:ve,handleSubmit:()=>at(!1),color:"default",okText:"Ok"}),e.a.createElement(v.o,{title:"Incomplete configuration",isOpen:sa.isOpen,handleClose:()=>Et({}),closeModal:()=>Et({}),handleSubmit:ll,color:"default",okText:"Start config",description:sa.message}))}}}]);
